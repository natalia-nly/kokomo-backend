{"version":3,"sources":["services/property/property-service.js","components/styled-components/titles.js","services/search/search-service.js","services/booking/booking-service.js","components/search/GeneralMap.js","../node_modules/@material-ui/icons/Search.js","components/search/AvailablePlaces.js","components/search/Search.js"],"names":["PropertyService","createProperty","body","service","post","then","response","data","uploadPicture","uploadData","editProperty","propertyId","allProperties","get","categoryProperties","category","propertyDetails","propertyLove","addComment","deleteProperty","axios","create","baseURL","process","withCredentials","this","SectionTitleStyle","styled","h1","props","theme","colors","text","fonts","center","SectionSubtitleStyle","h2","darkText","SearchService","searchLocation","location","getAvailability","getPropertyAvailability","BookingService","createBooking","scheduleId","myBookings","propertiesBookings","bookingDetails","bookingId","deleteBooking","GeneralMap","curr","Date","setDate","getDate","initialState","allResults","bookingDate","toISOString","substr","numberGuests","useState","state","setState","useEffect","source","CancelToken","error","isCancel","console","log","loadData","cancel","getInfoWindowString","place","today","openingDate","openingHours","openingDays","openingDay","closingDate","closingDay","finalRating","rating","counter","length","ratingNum","parseFloat","reduce","a","b","toFixed","ActualRating","_id","name","categories","getTime","mapa","className","bootstrapURLKeys","key","language","lat","lng","defaultZoom","options","maps","disableDefaultUI","mapTypeControl","streetViewControl","styles","featureType","elementType","stylers","visibility","yesIWantToUseGoogleMapApiInternals","onGoogleApiLoaded","map","places","markers","infowindows","forEach","push","Marker","position","long","InfoWindow","content","marker","i","addListener","open","handleApiLoaded","_interopRequireDefault","require","Object","defineProperty","exports","value","default","_react","_default","createElement","d","AvailablePlaces","availableResults","results","history","useHistory","available","handleSubmit","event","preventDefault","params","target","day","guests","property","result","index","href","src","mainImage","style","zIndex","alt","timeboxes","timebox","onSubmit","type","startTime","Search","handleChange","availablePlaces","htmlFor","onChange","data-date-format","min"],"mappings":"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","file":"static/js/16.5d77f1b4.chunk.js","sourcesContent":["import axios from \"axios\";\n\nclass PropertyService {\n  constructor() {\n    let service = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + \"/property\",\n      withCredentials: true,\n    });\n    this.service = service;\n  }\n\n  createProperty = (body) => {\n    return this.service.post(\"/create-property\",body).then((response) => response.data);\n  }\n\n  uploadPicture = (uploadData) => {\n    return this.service.post(\"/upload\",uploadData).then((response) => response.data);\n  }\n\n  editProperty = (propertyId, body) => {\n    return this.service.post(\"/edit/\"+propertyId,body).then((response) => response.data);\n  }\n\n  allProperties = () => {\n    return this.service.get(\"/\").then((response) => response.data);\n  };\n\n  categoryProperties = (category) => {\n    return this.service\n      .get(\"/category/\" + category)\n      .then((response) => response.data);\n  };\n\n  propertyDetails = (propertyId) => {\n    return this.service\n      .get(\"/details/\" + propertyId)\n      .then((response) => response.data);\n  };\n\n  propertyLove = (propertyId) => {\n    return this.service\n      .get(\"/love/\" + propertyId)\n      .then((response) => response.data);\n  };\n\n  addComment = (propertyId, body) => {\n    return this.service\n      .post(\"/add-comment/\" + propertyId, body)\n      .then((response) => response.data);\n  };\n\n  deleteProperty = (propertyId) => {\n    return this.service\n      .get(\"/delete/\" + propertyId)\n      .then((response) => response.data);\n  };\n}\nexport default PropertyService;\n","import styled from \"styled-components\";\n\nexport const SectionTitleStyle = styled.h1`\n  color: ${(props) => props.theme.colors.text};\n  font-family: ${(props) => props.theme.fonts.text};\n  padding: 10px 0;\n  border-bottom: 1px solid rgba(50, 148, 187, 0.1);\n  margin-bottom: 20px !important;\n  text-align: ${(props) => (props.center ? \"center\" : \"left\")};\n  font-size: 26px;\n\n  i {\n    font-size: 26px;\n  }\n`;\n\nexport const SectionSubtitleStyle = styled.h2`\n  font-size: 24px;\n  font-family: ${(props) => props.theme.fonts.text};\n  color: ${(props) => props.theme.colors.darkText};\n  font-weight: 700;\n  text-align: ${(props) => (props.center ? \"center\" : \"left\")};\n  padding-left: 20px;\n`;\n","import axios from \"axios\";\n\nclass SearchService {\n  constructor() {\n    let service = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + \"/search\",\n      withCredentials: true,\n    });\n    this.service = service;\n  }\n\n  searchLocation = (location) => {\n    return this.service\n      .get(\"/maps?search=\" + location)\n      .then((response) => response.data);\n  };\n\n  getAvailability = (body) => {\n    return this.service\n      .post(\"/getAvailability\", body)\n      .then((response) => response.data);\n  };\n\n  getPropertyAvailability = (propertyId, body) => {\n    return this.service\n      .post(\"/getAvailability/\"+ propertyId, body)\n      .then((response) => response.data);\n  };\n}\nexport default SearchService;\n","import axios from \"axios\";\n\nclass BookingService {\n  constructor() {\n    let service = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + \"/booking\",\n      withCredentials: true,\n    });\n    this.service = service;\n  }\n\n  createBooking = (scheduleId, body) => {\n    return this.service\n      .post(\"/create-booking/\" + scheduleId, body)\n      .then((response) => response.data);\n  };\n\n  myBookings = () => {\n    return this.service.get(\"/my-bookings\").then((response) => response.data);\n  };\n\n  propertiesBookings = () => {\n    return this.service\n      .get(\"/my-properties-bookings\")\n      .then((response) => response.data);\n  };\n\n  bookingDetails = (bookingId) => {\n    return this.service\n      .get(\"/details/\" + bookingId)\n      .then((response) => response.data);\n  };\n\n  deleteBooking = (bookingId) => {\n    return this.service\n      .post(\"/delete/\" + bookingId)\n      .then((response) => response.data);\n  };\n}\nexport default BookingService;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport GoogleMapReact from \"google-map-react\";\nimport PropertyService from \"../../services/property/property-service\";\n\nlet service = new PropertyService();\n\nconst GeneralMap = () => {\n  let curr = new Date();\n  curr.setDate(curr.getDate());\n  let date = curr.toISOString().substr(0, 10);\n  const initialState = {\n    allResults: [],\n    bookingDate: date,\n    numberGuests: 0,\n  };\n  let center = {\n    lat: 41.28,\n    lng: 2.01,\n  };\n\n  const zoom = 11;\n  const [state, setState] = useState(initialState);\n\n  useEffect(() => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    const loadData = () => {\n      try {\n        service.allProperties().then((response) => {\n          setState((state) => ({\n            ...state,\n            allResults: response[0],\n          }));\n        });\n      } catch (error) {\n        if (axios.isCancel(error)) {\n          console.log(\"cancelled\");\n        } else {\n          throw error;\n        }\n      }\n    };\n    loadData();\n    return () => {\n      source.cancel();\n    };\n  }, []);\n\n  const getMapOptions = (maps) => {\n    return {\n      disableDefaultUI: false,\n      mapTypeControl: true,\n      streetViewControl: true,\n      styles: [\n        {\n          featureType: \"poi\",\n          elementType: \"labels\",\n          stylers: [\n            {\n              visibility: \"on\",\n            },\n          ],\n        },\n      ],\n    };\n  };\n\n  const ActualRating = (rating) => {\n    let counter = rating.counter;\n    if (rating.counter.length) {\n      let reduceFunc = (a, b) => a + b;\n      let ratingNum = parseFloat(\n        (counter.reduce(reduceFunc, 0) / counter.length).toFixed(2)\n      );\n      return `\n          <i class=\"fa fa-star\" aria-hidden=\"true\"></i> ${ratingNum}\n       `;\n    } else {\n      return \"\";\n    }\n  };\n\n  const getInfoWindowString = (place) => {\n    let today = new Date();\n    let openingDate = new Date(place.openingHours[0].openingDays.openingDay);\n    let closingDate = new Date(place.openingHours[0].openingDays.closingDay);\n    let finalRating = ActualRating(place.rating);\n\n    return `\n    <div>\n    <a href=\"/property/${\n      place._id\n    }\" style=\"font-size: 18px; color: #809eaa; font-weight: 800\">\n    ${place.name}\n    </a>\n\n    <div style=\"font-size: 14px;\">\n        <span style=\"color: #809eaa\">\n        ${finalRating}\n        </span>\n      </div>\n      ${\n        place.categories[0]\n          ? `<p class=\"badge-maps badge-tag\">${place.categories[0]}</p>`\n          : \"\"\n      }\n\n        ${\n          openingDate.getTime() <= today.getTime() &&\n          today.getTime() <= closingDate.getTime()\n            ? `<p class=\"badge-maps badge-opened\"> Abierto </p>`\n            : `<p class=\"badge-maps badge-closed\"> Cerrado </p>`\n        }\n\n    </div>`;\n  };\n\n  const handleApiLoaded = (map, maps, places) => {\n    const markers = [];\n    const infowindows = [];\n\n    places.forEach((place) => {\n      markers.push(\n        new maps.Marker({\n          position: {\n            lat: place.location.lat,\n            lng: place.location.long,\n          },\n          map,\n        })\n      );\n\n      infowindows.push(\n        new maps.InfoWindow({ content: getInfoWindowString(place) })\n      );\n    });\n\n    markers.forEach((marker, i) => {\n      marker.addListener(\"click\", () => {\n        infowindows[i].open(map, marker);\n      });\n    });\n  };\n\n  let mapa = <></>;\n  if (state.allResults.length) {\n    mapa = (\n      <div className=\"container mt-4 mapa\">\n        <GoogleMapReact\n          bootstrapURLKeys={{\n            key: process.env.REACT_APP_GOOGLE_API_KEY,\n            language: \"sp\",\n          }}\n          center={center}\n          defaultZoom={zoom}\n          options={getMapOptions}\n          yesIWantToUseGoogleMapApiInternals\n          onGoogleApiLoaded={({ map, maps }) =>\n            handleApiLoaded(map, maps, state.allResults)\n          }\n        />\n      </div>\n    );\n  }\n\n  return <div>{mapa}</div>;\n};\n\nexport default GeneralMap;\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z\"\n}), 'Search');\n\nexports.default = _default;","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport BookingService from  \"../../services/booking/booking-service\";\n\nlet service = new BookingService();\nconst AvailablePlaces = (props) => {\n\n  const availableResults = props.results\n\n  let history = useHistory();\n\n  let available = \"No results\";\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const params = {\n      scheduleId: event.target.scheduleId.value,\n    };\n\n    const body = {\n      day: event.target.day.value,\n      guests: event.target.guests.value,\n    };\n    service.createBooking(params.scheduleId,body)\n      .then((response) => {\n        history.push(\"/my-bookings\");\n      });\n  };\n\n  if (availableResults[0].property) {\n    available = availableResults.map((result, index) => (\n      <div className=\"one-property\" key={index}>\n        <a href={\"/property/\" + result.property._id}>\n          <div className=\"property-card\">\n            <span className=\"fa-stack fa-2x float-right heart-home\">\n              <i className=\"fas fa-circle fa-stack-2x orange-80\"></i>\n              <i className=\"fas fa-heart fa-stack-1x fa-inverse\"></i>\n            </span>\n            <div>\n              <img\n                src={result.property.mainImage}\n                style={{ zIndex: \"1\" }}\n                alt={result.property.name}\n              ></img>\n              <img\n                src={result.property.mainImage}\n                className=\"blur-image\"\n                alt={result.property.name}\n              />\n            </div>\n          </div>\n        </a>\n        <div className=\"search-pc\">\n          <h3>{result.property.name}</h3>\n          <p className=\"mdi mdi-map-marker-radius\">\n            {result.property.location.name}\n          </p>\n          <div className=\"row mt-3 ml-2 mb-4\">\n            {result.timeboxes.map((timebox, index) => (\n              <form onSubmit={handleSubmit} key={index}>\n                <input type=\"hidden\" name=\"scheduleId\" value={timebox._id} />\n\n                <input type=\"hidden\" name=\"day\" value={timebox.day} />\n\n                <input type=\"hidden\" name=\"guests\" value={result.guests} />\n                <input\n                  type=\"submit\"\n                  className=\"kokomo-hours\"\n                  value={timebox.startTime}\n                />\n              </form>\n            ))}\n          </div>\n        </div>\n      </div>\n    ));\n  }\n\n  return (\n    <div className=\"container\">\n      <h3 className=\"mt-4 mb-4 section-title\">Resultados de tu búsqueda</h3>\n      <div className=\"properties-group-2\">{available}</div>\n    </div>\n  );\n};\n\nexport default AvailablePlaces;\n","import React, { useState } from \"react\";\nimport AvailablePlaces from \"./AvailablePlaces\";\nimport GeneralMap from \"./GeneralMap\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport SearchService from \"../../services/search/search-service\";\nimport { SectionTitleStyle } from \"../styled-components/titles\";\n\nconst service = new SearchService();\nlet curr = new Date();\ncurr.setDate(curr.getDate());\nlet date = curr.toISOString().substr(0, 10);\nconst initialState = {\n  bookingDate: date,\n  numberGuests: 0,\n  availableResults: [],\n};\n\nconst Search = (props) => {\n  const [state, setState] = useState(initialState);\n\n  const handleChange = (event) => {\n    setState({\n      ...state,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const body = {\n      bookingDate: state.bookingDate,\n      numberGuests: state.numberGuests,\n    };\n\n    service.getAvailability(body).then((response) => {\n      setState({\n        ...state,\n        availableResults: response,\n      });\n    });\n  };\n\n  let availablePlaces = <></>;\n\n  if (state.availableResults.length) {\n    availablePlaces = <AvailablePlaces results={state.availableResults} />;\n  }\n\n  return (\n    <div className=\"body-container\">\n      <div>\n        <SectionTitleStyle>\n          <i className=\"mdi mdi-magnify\"></i> Busca el mejor sitio\n        </SectionTitleStyle>\n\n        <GeneralMap />\n      </div>\n      <div>\n        <div className=\"row d-flex align-items-center justify-content-center mt-5\">\n          <form\n            className=\"form-row flotante-kokomo-search\"\n            onSubmit={handleSubmit}\n          >\n            <div className=\"row w-100\">\n              <div className=\"col-40\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"bookingDate\" className=\"label active\">\n                    ¿Qué día quieres venir?\n                  </label>\n                  <input\n                    type=\"date\"\n                    name=\"bookingDate\"\n                    onChange={handleChange}\n                    value={state.bookingDate}\n                    data-date-format=\"DD MMMM YYYY\"\n                  />\n                </div>\n              </div>\n              <div className=\"col-40\">\n                <div className=\"form-group\">\n                  <label htmlFor=\"numberGuests\" className=\"label active\">\n                    ¿Cuántos seréis?\n                  </label>\n                  <input\n                    type=\"number\"\n                    name=\"numberGuests\"\n                    min=\"1\"\n                    onChange={handleChange}\n                    value={state.numberGuests}\n                    className=\"kokomo-input\"\n                  />\n                </div>\n              </div>\n              <div className=\"col-20\">\n                <button type=\"submit\" className=\"kokomo-btn-form\">\n                  <SearchIcon />\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n        <div>{availablePlaces}</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Search;\n"],"sourceRoot":""}