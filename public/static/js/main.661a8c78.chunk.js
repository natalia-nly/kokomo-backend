(this.webpackJsonpkokomo=this.webpackJsonpkokomo||[]).push([[0],{114:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),o=t(13),r=t.n(o),c=(t(83),t(8)),s=(t(84),t(85),t(12)),i=t(25),m=t(3),u=t(6),p=t.n(u),g=function(e){var a=Object(n.useState)({properties:[],favourites:[]}),t=Object(c.a)(a,2),o=t[0],r=t[1];Object(n.useEffect)((function(){"All"===e.filter||"Favourites"===e.filter?p.a.get("https://kokomo-react.herokuapp.com/api/",{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e),r(Object(m.a)(Object(m.a)({},o),{},{favourites:e.data[1],properties:e.data[0]}))})):"Categories"===e.filter?p.a.get("https://kokomo-react.herokuapp.com/api/search/category/"+e.match.params.name,{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e),r(Object(m.a)(Object(m.a)({},o),{},{favourites:e.data[1],properties:e.data[0]}))})):p.a.get("https://kokomo-react.herokuapp.com/api/search/category/"+e.filter,{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e),r(Object(m.a)(Object(m.a)({},o),{},{favourites:e.data[1],properties:e.data[0]}))}))}),[1]);var s;return s=o.properties.map((function(e,a){var t="far fa-heart fa-stack-1x fa-inverse";return o.favourites.length&&o.favourites.includes(e._id)&&(t="fas fa-heart fa-stack-1x fa-inverse"),l.a.createElement("div",{className:"property-card",key:a},l.a.createElement("a",{onClick:function(){return a=e._id,console.log("ID desde favs: ",a),void p.a.get("https://kokomo-react.herokuapp.com/api/property/love/"+a,{withCredentials:!0}).then((function(e){console.log("Favorito a\xf1adido",e);var t=Object(i.a)(o.favourites);t.push(a),r(Object(m.a)(Object(m.a)({},o),{},{favourites:t}))}));var a}},l.a.createElement("span",{className:"fa-stack fa-2x float-right heart-home"},l.a.createElement("i",{className:"fas fa-circle fa-stack-2x orange-80"}),l.a.createElement("i",{className:t}))),l.a.createElement("a",{href:"/property/"+e._id},l.a.createElement("img",{src:e.mainImage,style:{zIndex:1}}),l.a.createElement("img",{src:e.mainImage,className:"blur-image"})),l.a.createElement("a",{href:"/property/"+e._id},l.a.createElement("h3",null,e.name),l.a.createElement("p",{className:"mdi mdi-map-marker-radius"}," ",e.location.name)))})),l.a.createElement("div",{className:"properties-group"},s)},d=t(42),b=function(){var e=new Date;e.setDate(e.getDate());var a={allResults:[],bookingDate:e.toISOString().substr(0,10),numberGuests:0},t=Object(n.useState)(a),o=Object(c.a)(t,2),r=o[0],s=o[1];Object(n.useEffect)((function(){p.a.get("https://kokomo-react.herokuapp.com/api/").then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e),s(Object(m.a)(Object(m.a)({},r),{},{allResults:e.data[0]}))}))}),[]);var i=function(e){var a=new Date,t=new Date(e.openingHours[0].openingDays.openingDay),n=new Date(e.openingHours[0].openingDays.closingDay);return'\n    <div>\n    <a href="/property/'.concat(e._id,'" class="btn-kokomo btn-kokomo-danger" style="font-size: 16px;">\n    ').concat(e.name,'\n    </a>\n\n    <div style="font-size: 14px;">\n        <span style="color: grey;">Rating:\n        ').concat(e.rating,'\n        </span>\n        <span style="color: orange;">').concat(String.fromCharCode(9733).repeat(Math.floor(e.rating)),'</span><span style="color: lightgrey;">').concat(String.fromCharCode(9733).repeat(5-Math.floor(e.rating)),'</span>\n      </div>\n      <div style="font-size: 14px; color: grey;">Category:\n        ').concat(e.categories[0],'\n      </div>\n      <div style="font-size: 14px; color: grey;">\n        ').concat("$".repeat(e.price_level),'\n      </div>\n      <div style="font-size: 14px; color: green;">\n        ').concat(t.getTime()<=a.getTime()&&a.getTime()<=n.getTime()?"Open":"Closed","\n      </div>\n    </div>")},u=l.a.createElement(l.a.Fragment,null);return r.allResults.length&&(u=l.a.createElement("div",{className:"container mt-4 mapa"},l.a.createElement(d.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://kokomo-react.herokuapp.com/api"}).REACT_APP_GOOGLE_API_KEY,language:"sp"},center:{lat:41.35,lng:2.1},defaultZoom:11,options:function(e){return{disableDefaultUI:!1,mapTypeControl:!0,streetViewControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a,t){var n=[],l=[];console.log(t.length),console.log(t),t.forEach((function(t){console.log(t.location),n.push(new a.Marker({position:{lat:t.location.lat,lng:t.location.long},map:e})),l.push(new a.InfoWindow({content:i(t)}))})),n.forEach((function(a,t){a.addListener("click",(function(){l[t].open(e,a)}))}))}(e.map,e.maps,r.allResults)}}))),console.log(r.allResults),l.a.createElement("div",null,u)},E=function(){return console.log("LANDING"),l.a.createElement("div",null,l.a.createElement("div",{className:"hero-landing",style:{padding:"50px 10px"}},l.a.createElement("div",{className:"home-container"},l.a.createElement("h2",{className:"hero-title",style:{color:"white"}},"Este verano",l.a.createElement("br",null),"no te quedes sin planes"),l.a.createElement("h2",{className:"hero-subtitle",style:{color:"#d0dde2"}},"Reserva en los mejores",l.a.createElement("br",null),"locales de tu zona"),l.a.createElement("h2",{className:"hero-arrow-phone mdi mdi-arrow-down"}),l.a.createElement("h2",{className:"hero-arrow-desktop mdi mdi-arrow-down"}))),l.a.createElement("div",{className:"mapa"},l.a.createElement(b,null)),l.a.createElement("div",{className:"bg-landing"},l.a.createElement("div",{className:"container"},l.a.createElement("h2",{className:"title-landing text-center"},"Reserva en un segundo"),l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"shadow-blue"},l.a.createElement("img",{src:"/images/1.png",className:"emoji-img"}),l.a.createElement("h2",{className:"subtitle-landing"},"Encuentra los mejores locales"),l.a.createElement("p",null,"Filtra los locales por d\xeda o por categor\xeda para encontrar el ideal"))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"shadow-blue"},l.a.createElement("img",{src:"/images/2.png",className:"emoji-img"}),l.a.createElement("h2",{className:"subtitle-landing"},"Crea tu reserva"),l.a.createElement("p",null,"Reserva r\xe1pidamente desde Kokomo en tus locales favoritos"))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"shadow-blue"},l.a.createElement("img",{src:"/images/3.png",className:"emoji-img"}),l.a.createElement("h2",{className:"subtitle-landing"},"Comp\xe1rtela con tus amigos"),l.a.createElement("p",null,"Comparte los detalles de la reserva con quien quieras")))))),l.a.createElement("div",{className:"category-group",style:{margin:"auto"}},l.a.createElement("div",{className:"one-category"},l.a.createElement("a",{href:"/category/Surfer"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/surf.png",alt:"Surfer"})),l.a.createElement("p",null,"Surfer"))),l.a.createElement("div",{className:"one-category"},l.a.createElement("a",{href:"/category/Chillout"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/chillout.png",alt:"Chillout"})),l.a.createElement("p",null,"Chillout"))),l.a.createElement("div",{className:"one-category"},l.a.createElement("a",{href:"/category/Discoteca"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/disco.png",alt:"Disco"})),l.a.createElement("p",null,"Disco"))),l.a.createElement("div",{className:"one-category"},l.a.createElement("a",{href:"/category/Bar"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/bar.png",alt:"Bar"})),l.a.createElement("p",null,"Bar"))),l.a.createElement("div",{className:"one-category"},l.a.createElement("a",{href:"/category/Restaurante"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/restaurant.png",alt:"Bar"})),l.a.createElement("p",null,"Restaurant")))),l.a.createElement("div",{className:"landing-container",style:{paddingBottom:"80px"}},l.a.createElement(g,{filter:"All"})),l.a.createElement("div",{className:"banner-orange"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h2",null,"\xbfTienes un local?"),l.a.createElement("h3",null,"Registra tus locales y consigue reservas de tus clientes")),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("a",{href:"/signup-local",className:"btn-kokomo btn-kokomo-banner float-right p-2 mt-4"},"Crea tu cuenta")))),l.a.createElement("div",{className:"footer"},l.a.createElement("p",null,"Made in Barcelona |"," ",l.a.createElement("a",{href:"https://github.com/natalia-nly",target:"_blank"},"Natalia")," ","&"," ",l.a.createElement("a",{href:"https://github.com/CSS1982",target:"_blank"},"Claudi"))))},v=t(9),h=function(e){var a=l.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light fixed-top",style:{backgroundColor:"rgb(255, 255, 255)",paddingBottom:0}},l.a.createElement(v.c,{className:"navbar-brand",to:"/"},"KOKOMO"),l.a.createElement("button",{className:"navbar-toggler d-lg-none",type:"button","data-toggle":"collapse","data-target":"#collapsibleNavId","aria-controls":"collapsibleNavId","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("i",{className:"fas fa-bars"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"collapsibleNavId"},l.a.createElement("ul",{className:"navbar-nav ml-auto mt-2 mt-lg-0"},l.a.createElement("li",{className:"nav-item"},l.a.createElement(v.c,{className:"nav-link",to:"/",exact:!0,activeClassName:"navbar-active-logout"},"Inicio")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(v.c,{className:"nav-link",to:"/signup-local",activeClassName:"navbar-active-logout"},"Tengo un local")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(v.c,{className:"nav-link",to:"/signup",activeClassName:"navbar-active-logout"},"Registrarme ahora")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(v.c,{className:"nav-link",to:"/login",activeClassName:"navbar-active-logout"},"Iniciar sesi\xf3n"))))),t=l.a.createElement("nav",{className:"navbar-kokomo"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(v.c,{to:"/",className:"mdi mdi-home"})),l.a.createElement("li",null,l.a.createElement(v.c,{to:"/my-favourites",className:"mdi mdi-heart-outline"})),l.a.createElement("li",{className:"search-icon-menu"},l.a.createElement("a",{href:"/search",className:"mdi mdi-magnify"})),l.a.createElement("li",null,l.a.createElement(v.c,{to:"/my-bookings",className:"mdi mdi-calendar"})),l.a.createElement("li",null,l.a.createElement(v.c,{to:"/profile",className:"mdi mdi-account-circle"}))));return null!==e.getTheUser&&(a=t),l.a.createElement(l.a.Fragment,null," ",a," ")},f=t(14),k=t(23),N=t(27),y=t(29),O=t(28),D=function e(){var a=this;Object(k.a)(this,e),this.signup=function(e,t,n,l){return a.service.post("/signup",{username:e,password:t,telNumber:n,email:l}).then((function(e){return e.data}))},this.signupLocal=function(e,t,n,l){return a.service.post("/signup-local",{username:e,password:t,telNumber:n,email:l}).then((function(e){return e.data}))},this.login=function(e,t){return a.service.post("/login",{username:e,password:t}).then((function(e){return e.data}))},this.upload=function(e){console.log(e);var t=new FormData;return t.append("image",e),a.service.put("/upload",t).then((function(e){return e.data}))},this.edit=function(e,t,n){return a.service.put("/edit",{username:e,campus:t,course:n}).then((function(e){return e.data}))},this.loggedin=function(){return a.service.get("/loggedin").then((function(e){return e.data}))},this.logout=function(){return a.service.post("/logout",{}).then((function(e){return e.data}))};var t=p.a.create({baseURL:"https://kokomo-react.herokuapp.com/api/auth",withCredentials:!0});this.service=t},j=function(e){Object(y.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).handleSubmit=function(e){e.preventDefault();var a={user:n.state.user,password:n.state.password};n.service.login(a.user,a.password).then((function(e){n.setState({user:"",password:""}),n.props.callback(e),n.props.history.push("/")})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.state={user:"",password:""},n.service=new D,n}return Object(N.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{class:"row align-middle  justify-content-center p-4",style:{"min-height":"100vh"}},l.a.createElement("div",{class:"col-sm-12 col-md-4 align-self-center"},l.a.createElement("h2",{class:"hero-title text-center mb-4"},"Iniciar sesi\xf3n"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"user",className:"label active"},"Nombre de usuario"),l.a.createElement("input",{type:"text",name:"user",value:this.state.user,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password",className:"label active"},"Contrase\xf1a"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),l.a.createElement("button",{type:"submit",class:"btn-kokomo btn-kokomo-success btn-block p-3"},"Iniciar sesi\xf3n")),l.a.createElement("a",{href:"https://kokomo-react.herokuapp.com/api/auth/google",class:"btn-kokomo btn-kokomo-google btn-block p-3 mt-4"}," ",l.a.createElement("img",{src:"/images/google.svg",style:{width:"20px",marginRight:"8px"}})," ","Iniciar sesi\xf3n con Google"))))}}]),t}(n.Component),C=function(e){Object(y.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).service=new D,n}return Object(N.a)(t,[{key:"eraseLocalStorage",value:function(){localStorage.clear()}},{key:"render",value:function(){var e=this;return this.eraseLocalStorage(),this.service.logout().then((function(a){e.props.callback(null),e.props.reset()})).catch((function(e){return console.log(e)})),l.a.createElement(s.a,{to:"/"})}}]),t}(n.Component),w=function(e){Object(y.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).handleSubmit=function(e){e.preventDefault();var a={user:n.state.user,password:n.state.password,telNumber:n.state.telNumber,email:n.state.email};n.service.signup(a.user,a.password,a.telNumber,a.email).then((function(e){n.setState({user:"",password:"",telNumber:"",email:""}),n.props.callback(e),n.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.state={user:"",email:"",telNumber:"",password:""},n.service=new D,n}return Object(N.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{class:"row align-middle  justify-content-center p-4",style:{"min-height":"100vh"}},l.a.createElement("div",{class:"col-sm-12 col-md-4 align-self-center"},l.a.createElement("h2",{class:"hero-title text-center mb-4"},"Crea tu cuenta"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"user",className:"label active"},"Nombre de usuario"),l.a.createElement("input",{type:"text",name:"user",value:this.state.user,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"telNumber",className:"label active"},"N\xfamero de tel\xe9fono"),l.a.createElement("input",{type:"number",name:"telNumber",value:this.state.telNumber,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email",className:"label active"},"Email"),l.a.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password",className:"label active"},"Contrase\xf1a"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),l.a.createElement("button",{type:"submit",class:"btn-kokomo btn-kokomo-success btn-block p-3"},"Registrarme")),l.a.createElement("a",{href:"/auth/google",class:"btn-kokomo btn-kokomo-google btn-block p-3 mt-4"},l.a.createElement("img",{src:"/images/google.svg",style:{width:"20px",marginRight:"8px"}})," ","Registrarme con Google"))))}}]),t}(n.Component),S=function(e){Object(y.a)(t,e);var a=Object(O.a)(t);function t(e){var n;return Object(k.a)(this,t),(n=a.call(this,e)).handleSubmit=function(e){e.preventDefault();var a={user:n.state.user,password:n.state.password,telNumber:n.state.telNumber,email:n.state.email};n.service.signupLocal(a.user,a.password,a.telNumber,a.email).then((function(e){n.setState({user:"",password:"",telNumber:"",email:""}),n.props.callback(e),n.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.state={user:"",email:"",telNumber:"",password:""},n.service=new D,n}return Object(N.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{class:"row align-middle  justify-content-center p-4",style:{"min-height":"100vh"}},l.a.createElement("div",{class:"col-sm-12 col-md-4 align-self-center"},l.a.createElement("h2",{class:"hero-title text-center mb-4"},"Crea tus locales"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"user",className:"label active"},"Nombre de usuario"),l.a.createElement("input",{type:"text",name:"user",value:this.state.user,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"telNumber",className:"label active"},"N\xfamero de tel\xe9fono"),l.a.createElement("input",{type:"number",name:"telNumber",value:this.state.telNumber,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email",className:"label active"},"Email"),l.a.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password",className:"label active"},"Contrase\xf1a"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),l.a.createElement("button",{type:"submit",class:"btn-kokomo btn-kokomo-success btn-block p-3"},"Registrarme")),l.a.createElement("a",{href:"/auth/google",class:"btn-kokomo btn-kokomo-google btn-block p-3 mt-4"},l.a.createElement("img",{src:"/images/google.svg",style:{width:"20px",marginRight:"8px"}})," Registrarme con Google"))))}}]),t}(n.Component),I=function(e){var a=new Date;a.setDate(a.getDate());var t,o={bookingDate:a.toISOString().substr(0,10),numberGuests:0},r=Object(n.useState)(o),s=Object(c.a)(r,2);s[0],s[1];t={lat:e.lat,lng:e.lng};var i=function(e){var a=new Date,t=new Date(e.openingHours[0].openingDays.openingDay),n=new Date(e.openingHours[0].openingDays.closingDay);return'\n    <div>\n    <a href="/property/'.concat(e._id,'" class="btn-kokomo btn-kokomo-danger" style="font-size: 16px;">\n    ').concat(e.name,'\n    </a>\n\n    <div style="font-size: 14px;">\n        <span style="color: grey;">Rating:\n        ').concat(e.rating,'\n        </span>\n        <span style="color: orange;">').concat(String.fromCharCode(9733).repeat(Math.floor(e.rating)),'</span><span style="color: lightgrey;">').concat(String.fromCharCode(9733).repeat(5-Math.floor(e.rating)),'</span>\n      </div>\n      <div style="font-size: 14px; color: grey;">Category:\n        ').concat(e.categories[0],'\n      </div>\n      <div style="font-size: 14px; color: grey;">\n        ').concat("$".repeat(e.price_level),'\n      </div>\n      <div style="font-size: 14px; color: green;">\n        ').concat(t.getTime()<=a.getTime()&&a.getTime()<=n.getTime()?"Open":"Closed","\n      </div>\n    </div>")};return console.log(e.property),l.a.createElement("div",{className:"container mt-4 mapa"},l.a.createElement(d.a,{bootstrapURLKeys:{key:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_API_URL:"https://kokomo-react.herokuapp.com/api"}).REACT_APP_GOOGLE_API_KEY,language:"sp"},center:t,defaultZoom:11,options:function(e){return{disableDefaultUI:!1,mapTypeControl:!0,streetViewControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(a){return function(e,a,t){var n=[],l=[];console.log(t),n.push(new a.Marker({position:{lat:t.location.lat,lng:t.location.long},map:e})),l.push(new a.InfoWindow({content:i(t)})),n.forEach((function(a,t){a.addListener("click",(function(){l[t].open(e,a)}))}))}(a.map,a.maps,e.property)}}))},x={bookingId:""},T=function(e){var a=Object(n.useState)(x),t=Object(c.a)(a,2),o=t[0],r=t[1];console.log("estamos en booking"),console.log(e),Object(n.useEffect)((function(){r(Object(m.a)(Object(m.a)({},o),{},{bookingId:e.booking.bookingId,lat:e.booking.property.location.lat,lng:e.booking.property.location.long,property:e.booking.property}))}),[]);return l.a.createElement("div",{className:"group-booking"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"column-xs"},l.a.createElement("div",null,l.a.createElement("p",{className:"mb-4"},l.a.createElement("span",{className:"booking-ref"},e.booking.bookingRef))),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"far fa-calendar-check fa-stack-1x orange"})),e.booking.day),l.a.createElement("p",null,l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"far fa-clock fa-stack-1x orange"})),e.booking.time)),l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"fas fa-users fa-stack-1x orange"})),e.booking.guests,"persona(s)"),l.a.createElement("p",null,l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"fas fa-map-marker-alt fa-stack-1x orange"})),e.booking.property.name))),l.a.createElement("div",{className:"column-m"},l.a.createElement(I,{lat:o.lat,lng:o.lng,property:o.property}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(a){a.preventDefault(),console.log(o.bookingId),p.a.post("https://kokomo-react.herokuapp.com/api/booking/delete/"+a.target.bookingId.value,{},{withCredentials:!0}).then((function(a){console.log(a.data),e.callback()}))}},l.a.createElement("input",{type:"hidden",name:"bookingId",value:e.booking._id}),l.a.createElement("button",{className:"kokomo-btn-form p-2"},"Cancelar reserva")))))},R={bookings:[],properties:[]},F=l.a.createElement("p",null,"Todav\xeda no tienes reservas"),_=function(e){console.log("estamos en profile");var a=Object(n.useState)(R),t=Object(c.a)(a,2),o=t[0],r=t[1];Object(n.useEffect)((function(){p.a.get("https://kokomo-react.herokuapp.com/api/booking/my-bookings",{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e.data.bookings),r(Object(m.a)(Object(m.a)({},o),{},{bookings:e.data.bookings}))})),p.a.get("https://kokomo-react.herokuapp.com/api/booking/my-properties-bookings",{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e.data.bookings),r(Object(m.a)(Object(m.a)({},o),{},{properties:e.data.bookings}))}))}),[]);var s=function(){p.a.get("https://kokomo-react.herokuapp.com/api/booking/my-bookings",{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e.data.bookings),r(Object(m.a)(Object(m.a)({},o),{},{bookings:e.data.bookings}))}))};return o.bookings.length&&(console.log(o.bookings),F=o.bookings.map((function(e,a){return l.a.createElement(T,{key:a,booking:e,callback:s})}))),l.a.createElement("div",null,l.a.createElement("div",{className:"beach-background"},l.a.createElement("div",{className:"text-right"},l.a.createElement(v.b,{to:"/profile/edit",className:"btn-kokomo btn-kokomo-grey mr-3"},"Configuraci\xf3n"),l.a.createElement(v.b,{to:"/logout",className:"btn-kokomo btn-kokomo-danger"},"Cerrar sesi\xf3n"))),l.a.createElement("div",{className:"text-center",style:{borderRadius:"30px",marginTop:"-30px",backgroundColor:"white",paddingBottom:"30px"}},l.a.createElement("img",{src:e.loggedInUser.avatar,alt:"Avatar",className:"avatar"}),l.a.createElement("h2",null,"Hola ",e.loggedInUser.username,"!"),l.a.createElement("p",null,"email: ",e.loggedInUser.email),l.a.createElement("p",null,"N\xfamero de tel\xe9fono: ",e.loggedInUser.telNumber)),l.a.createElement("div",{className:"body-container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(v.b,{to:"/search",className:"btn-kokomo btn-kokomo-success float-right"},"Crear una nueva reserva"),l.a.createElement("div",{className:"col"},l.a.createElement(v.b,{to:"/property/create-property",className:"btn-kokomo btn-kokomo-success float-right"},"Crear un nuevo local")))),l.a.createElement("h4",{className:"section-title"},"Tus Reservas"),F),l.a.createElement("div",{className:"body-container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(v.b,{to:"/property/create-property",className:"btn-kokomo btn-kokomo-success float-right"},"Crear un nuevo local"))),l.a.createElement("h4",{className:"section-title"},"Tus Locales")))},H=t(72),L=JSON.parse(localStorage.saveData||null)||{};new D;function G(){return L.obj}var U=function(e){var a=e.component,t=e.user,n=e.callback,o=Object(H.a)(e,["component","user","callback"]);return l.a.createElement(s.b,Object.assign({},o,{render:function(e){return t?(console.log("user2",t),l.a.createElement(a,Object.assign({},e,{loggedInUser:t,callback:n}))):void 0!==G()?l.a.createElement(a,Object.assign({},e,{loggedInUser:G(),callback:n})):l.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},A=t(135),P=t(11),B=t(7),M=t(142),z=t(138),K=t(141),q=(t(67),t(69)),W=t.n(q),X=t(68),Y=t.n(X),V=t(70),J=t.n(V),$=t(137),Q=t(140),Z=t(139);var ee=function(){var e=Object(s.g)();Object(A.a)({root:{color:"#eaeaf0",display:"flex",height:22,alignItems:"center"},active:{color:"#784af4"},circle:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"},completed:{color:"#784af4",zIndex:1,fontSize:18}});var a=Object(P.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,#ffba69 0%,#ffba69 50%,#ffba69 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,#ffba69 0%,#ffba69 50%,#ffba69 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})($.a),t=Object(A.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundImage:"linear-gradient( 136deg, #ffba69 0%, #ec9834 50%, #cc7309 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundImage:"linear-gradient( 136deg, #ffba69 0%, #ec9834 50%, #cc7309 100%)"}});function o(e){var a,n=t(),o=e.active,r=e.completed,c={1:l.a.createElement(Y.a,null),2:l.a.createElement(W.a,null),3:l.a.createElement(J.a,null)};return l.a.createElement("div",{className:Object(B.a)(n.root,(a={},Object(f.a)(a,n.active,o),Object(f.a)(a,n.completed,r),a))},c[String(e.icon)])}var r=Object(A.a)((function(e){return{root:{width:"100%"},button:{marginRight:e.spacing(1)},buttonActive:{backgroundColor:"#3294bb",color:"#ffffff"},buttonSuccess:{backgroundColor:"#28a745",color:"#ffffff"},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),u=Object(n.useState)({name:"",description:"",categories:[],mainImage:null,location:{name:"",lat:0,long:0},openingHours:[{openingDays:{openingDay:null,closingDay:null},weekDays:[],openingTimes:[{openingTime:0,closingTime:0}]}],bookingDuration:0,availablePlaces:0}),g=Object(c.a)(u,2),d=g[0],b=g[1],E=function(e){b(Object(m.a)(Object(m.a)({},d),{},Object(f.a)({},e.target.name,e.target.value)))},v=function(e){b(Object(m.a)(Object(m.a)({},d),{},{file:e.target.files[0]}))},h=function(e){e.preventDefault();var a=new FormData;a.append("mainImage",d.file),p.a.post("https://kokomo-react.herokuapp.com/api/property/upload",a).then((function(e){console.log("File upload successful:",e.data),b(Object(m.a)(Object(m.a)({},d),{},{mainImage:e.data.path}))}))},k=function(e){var a=Object(i.a)(d.openingHours);a[0].openingDays.openingDay=e.target.value,b(Object(m.a)(Object(m.a)({},d),{},{openingHours:a}))},N=function(e){var a=Object(i.a)(d.openingHours);a[0].openingDays.closingDay=e.target.value,b(Object(m.a)(Object(m.a)({},d),{},{openingHours:a}))},y=function(e){var a=Object(i.a)(d.openingHours);a[0].openingTimes[0].openingTime=e.target.value,b(Object(m.a)(Object(m.a)({},d),{},{"openingHours.openingTimes":a}))},O=function(e){var a=Object(i.a)(d.openingHours);a[0].openingTimes[0].closingTime=e.target.value,b(Object(m.a)(Object(m.a)({},d),{},{"openingHours.openingTimes":a}))},D=function(e){var a=Object(i.a)(d.openingHours);if(a[0].weekDays.includes(parseInt(e.target.value))){var t=a[0].weekDays.indexOf(parseInt(e.target.value));a[0].weekDays.splice(t,1)}else a[0].weekDays.push(parseInt(e.target.value));b(Object(m.a)(Object(m.a)({},d),{},{openingHours:a}))},j=function(e){e.preventDefault(),p.a.get("https://kokomo-react.herokuapp.com/api/search/maps?search="+d.search).then((function(e){console.log(e.data),console.log(d),b(Object(m.a)(Object(m.a)({},d),{},{search:e.data.candidates[0].name,location:{lat:e.data.candidates[0].geometry.location.lat,long:e.data.candidates[0].geometry.location.lng,name:e.data.candidates[0].formatted_address}}))}))},C=r(),w=l.a.useState(0),S=Object(c.a)(w,2),I=S[0],x=S[1],T=[l.a.createElement("p",null,"Datos principales"),l.a.createElement("p",null,"Horarios"),l.a.createElement("p",null,"El local")];return l.a.createElement("div",{className:"body-container"},l.a.createElement("div",{className:"hero"},l.a.createElement("h2",{className:"hero-title"},"Crea tu local"),l.a.createElement("h2",{className:"hero-subtitle"},"Rellena los datos de tu local y consigue reservas"),l.a.createElement("h2",{className:"hero-arrow-phone mdi mdi-arrow-down"}),l.a.createElement("h2",{className:"hero-arrow-desktop mdi mdi-arrow-down"})),l.a.createElement("div",{className:C.root},l.a.createElement(M.a,{alternativeLabel:!0,activeStep:I,connector:l.a.createElement(a,null)},T.map((function(e,a){return l.a.createElement(z.a,{key:a},l.a.createElement(K.a,{StepIconComponent:o},e))}))),l.a.createElement("div",null,I===T.length?l.a.createElement("div",null,l.a.createElement(Z.a,{className:C.instructions,component:"div"},"All steps completed - you're finished"),l.a.createElement(Q.a,{onClick:function(){x(0)},className:C.button},"Reset")):l.a.createElement("div",null,l.a.createElement(Z.a,{className:C.instructions,component:"div"},function(e){switch(e){case 0:return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name",className:"label active"},"Nombre"),l.a.createElement("input",{type:"text",name:"name",value:d.name,onChange:E})),l.a.createElement("div",{className:"form-group"},l.a.createElement("form",{onSubmit:h},l.a.createElement("label",null,"Imagen"),l.a.createElement("input",{type:"file",name:"imageUrl",onChange:v}),l.a.createElement("input",{type:"submit",value:"Save"})))),l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"description",className:"label active"},"Descripci\xf3n"),l.a.createElement("input",{type:"textarea",name:"description",value:d.description,onChange:E})),l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"categories",className:"label active"},"Categor\xeda"),l.a.createElement("input",{list:"categories",type:"categories",id:"input-categories",name:"categories",onChange:E}),l.a.createElement("datalist",{id:"categories"},l.a.createElement("option",{value:"Chillout"}),l.a.createElement("option",{value:"Surfer"}),l.a.createElement("option",{value:"Restaurante"}),l.a.createElement("option",{value:"Discoteca"}),l.a.createElement("option",{value:"Bar"})))),l.a.createElement("div",{className:"form-group"},l.a.createElement("form",{onSubmit:j},l.a.createElement("label",null,"Direcci\xf3n"),l.a.createElement("input",{type:"text",name:"search",value:d.search,onChange:E}),l.a.createElement("input",{type:"submit",value:"Buscar"})),l.a.createElement("p",null,"Candidato: ",d.search),l.a.createElement("p",null,"Direcci\xf3n:",d.location.name),l.a.createElement("p",null,"Latitud:",d.location.lat),l.a.createElement("p",null,"Longitud:",d.location.long)))));case 1:return l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"openingDay",className:"label active"},"D\xeda de apertura"),l.a.createElement("input",{type:"date",name:"openingDay",value:d.openingHours[0].openingDays.openingDay,onChange:k})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"closingDay",className:"label active"},"D\xeda de cierre"),l.a.createElement("input",{type:"date",name:"closingDay",value:d.openingHours[0].openingDays.closingDay,onChange:N})),l.a.createElement("h6",null,"D\xedas de la semana"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"row mt-3"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"monday",value:1,onChange:D}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"monday"},"Lunes")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"tuesday",value:2,onChange:D}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"tuesday"},"Martes")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"wednesday",value:3,onChange:D}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"wednesday"},"Mi\xe9rcoles")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"thursday",value:4,onChange:D}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"thursday"},"Jueves"))),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"friday",value:5,onChange:D}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"friday"},"Viernes")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"saturday",value:6,onChange:D}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"saturday"},"S\xe1bado")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"sunday",value:0,onChange:D}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"sunday"},"Domingo")))))),l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"openingHours",className:"label active"},"Hora de apertura"),l.a.createElement("input",{type:"number",name:"openingHours",value:d.openingHours[0].openingDays.openingTime,onChange:y})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"closingHours",className:"label active"},"Hora de cierre"),l.a.createElement("input",{type:"number",name:"closingHours",value:d.openingHours[0].openingDays.closingTime,onChange:O})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"bookingDuration",className:"label active"},"Duraci\xf3n de la reserva (en minutos)"),l.a.createElement("input",{type:"number",name:"bookingDuration",value:d.bookingDuration,onChange:E})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"availablePlaces",className:"label active"},"Plazas"),l.a.createElement("input",{type:"number",name:"availablePlaces",value:d.availablePlaces,onChange:E})))));case 2:return"This is the bit I really care about!";default:return"Unknown step"}}(I)),l.a.createElement("div",null,l.a.createElement(Q.a,{disabled:0===I,onClick:function(){x((function(e){return e-1}))},className:C.button},"Anterior"),I===T.length-1?l.a.createElement(Q.a,{variant:"contained",color:"#3294bb",onClick:function(a){a.preventDefault(),console.log(d);var t=new FormData;t.append("mainImage",d.file);var n={name:d.name,description:d.description,categories:d.categories,location:{name:d.location.name,lat:d.location.lat,long:d.location.long},openingHours:[{openingDays:{openingDay:d.openingHours[0].openingDays.openingDay,closingDay:d.openingHours[0].openingDays.closingDay},weekDays:d.openingHours[0].weekDays,openingTimes:[{openingTime:d.openingHours[0].openingTimes[0].openingTime,closingTime:d.openingHours[0].openingTimes[0].closingTime}]}],bookingDuration:d.bookingDuration,availablePlaces:d.availablePlaces,mainImage:d.mainImage};p.a.post("https://kokomo-react.herokuapp.com/api/property/create-property",{body:n,uploadData:t},{withCredentials:!0}).then((function(a){console.log("file uploaded",a.data),e.push("/")})).catch((function(e){return console.log(e)}))},className:C.buttonSuccess},"Crear propiedad"):l.a.createElement(Q.a,{variant:"contained",onClick:function(){x((function(e){return e+1}))},className:C.buttonActive},"Siguiente"))))))},ae=function(e){var a={availableResults:e.results},t=Object(n.useState)(a),o=Object(c.a)(t,1)[0],r=Object(s.g)(),i="No results";console.log(o.availableResults);var m=function(e){e.preventDefault(),console.log(e.target);var a={scheduleId:e.target.scheduleId.value};console.log(a.scheduleId);var t={day:e.target.day.value,guests:e.target.guests.value};p.a.post("https://kokomo-react.herokuapp.com/api/booking/create-booking/"+a.scheduleId,t,{withCredentials:!0}).then((function(e){console.log(e.data),r.push("/profile")}))};return o.availableResults[0].property&&(console.log(o.availableResults[0].property.name),console.log(o.availableResults),i=o.availableResults.map((function(e,a){return l.a.createElement("div",{className:"one-property",key:a},l.a.createElement("a",{href:"/property/"+e.property._id},l.a.createElement("div",{className:"property-card"},l.a.createElement("span",{className:"fa-stack fa-2x float-right heart-home"},l.a.createElement("i",{className:"fas fa-circle fa-stack-2x orange-80"}),l.a.createElement("i",{className:"fas fa-heart fa-stack-1x fa-inverse"})),l.a.createElement("div",null,l.a.createElement("img",{src:e.property.mainImage,style:{zIndex:"1"}}),l.a.createElement("img",{src:e.property.mainImage,className:"blur-image",alt:e.property.name})))),l.a.createElement("div",{className:"search-pc"},l.a.createElement("h3",null,e.property.name),l.a.createElement("p",{className:"mdi mdi-map-marker-radius"},e.property.location.name),l.a.createElement("div",{className:"row mt-3 ml-2 mb-4"},e.timeboxes.map((function(a,t){return l.a.createElement("form",{onSubmit:m,key:t},l.a.createElement("input",{type:"hidden",name:"scheduleId",value:a._id}),l.a.createElement("input",{type:"hidden",name:"day",value:a.day}),l.a.createElement("input",{type:"hidden",name:"guests",value:e.guests}),l.a.createElement("input",{type:"submit",className:"kokomo-hours",value:a.startTime}))})))))}))),l.a.createElement("div",{className:"body-container"},l.a.createElement("h3",{className:"mt-4 mb-4 section-title"},"Resultados de tu b\xfasqueda"),l.a.createElement("div",{className:"properties-group-2"},i))},te=new Date;te.setDate(te.getDate());var ne={bookingDate:te.toISOString().substr(0,10),numberGuests:0,availableResults:[]},le=function(e){var a=Object(n.useState)(ne),t=Object(c.a)(a,2),o=t[0],r=t[1],s=function(e){r(Object(m.a)(Object(m.a)({},o),{},Object(f.a)({},e.target.name,e.target.value)))},i=l.a.createElement(l.a.Fragment,null);return o.availableResults.length&&(i=l.a.createElement(ae,{results:o.availableResults})),l.a.createElement("div",{className:"body-container"},l.a.createElement("div",null,l.a.createElement("h1",null,"B\xfasqueda de locales"),l.a.createElement("h2",null,"Todos los locales"),l.a.createElement(b,null)),l.a.createElement("div",null,l.a.createElement("h3",{className:"section-title mt-4 mdi mdi-magnify"},"Busca el mejor sitio"),l.a.createElement("div",{className:"row d-flex align-items-center justify-content-center"},l.a.createElement("form",{className:"form-row mb-5",onSubmit:function(e){e.preventDefault();var a={bookingDate:o.bookingDate,numberGuests:o.numberGuests};p.a.post("https://kokomo-react.herokuapp.com/api/search/getAvailability",a,{withCredentials:!0}).then((function(e){console.log(e.data),r(Object(m.a)(Object(m.a)({},o),{},{availableResults:e.data}))}))}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"bookingDate",className:"label active"},"\xbfQu\xe9 d\xeda quieres venir?"),l.a.createElement("input",{type:"date",name:"bookingDate",onChange:s,value:o.bookingDate,"data-date-format":"DD MMMM YYYY"}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"numberGuests",className:"label active"},"\xbfCu\xe1ntos ser\xe9is?"),l.a.createElement("input",{type:"number",name:"numberGuests",min:"1",onChange:s,value:o.numberGuests,className:"kokomo-input"})))),l.a.createElement("input",{type:"submit",value:"Ver disponibildad",className:"kokomo-btn-form p-3"}))),l.a.createElement("div",null,i)))},oe=t(71),re=t(49),ce=function(e){var a={availableResults:e.results,guests:e.guests,bookingFinished:!1},t=Object(n.useState)(a),o=Object(c.a)(t,2),r=o[0],i=o[1],u=(Object(s.g)(),"No results");console.log(r.availableResults);var g=function(e){e.preventDefault(),console.log(e.target);var a={scheduleId:e.target.scheduleId.value};console.log(a.scheduleId);var t={day:e.target.day.value,guests:e.target.guests.value};p.a.post("https://kokomo-react.herokuapp.com/api/booking/create-booking/"+a.scheduleId,t,{withCredentials:!0}).then((function(e){console.log(e.data),i(Object(m.a)(Object(m.a)({},r),{},{bookingFinished:!0}))}))};r.availableResults&&(u=r.availableResults.map((function(e){return l.a.createElement("div",{className:"col-auto mb-3"},l.a.createElement("form",{onSubmit:g},l.a.createElement("input",{type:"hidden",name:"scheduleId",value:e._id}),l.a.createElement("input",{type:"hidden",name:"day",value:e.day}),l.a.createElement("input",{type:"hidden",name:"guests",value:r.guests}),l.a.createElement("input",{type:"submit",className:"kokomo-hours",value:e.startTime})))})));var d=l.a.createElement("div",{class:"text-center d-flex align-items-center justify-content-center kokomo-popup"},l.a.createElement("div",null,l.a.createElement("img",{src:"/images/3.png",class:"emoji-img"}),l.a.createElement("h2",{class:"subtitle-landing text-center mb-3"},"\xa1Reserva creada con \xe9xito!"),l.a.createElement("p",null,l.a.createElement("i",{class:"far fa-calendar-alt"})," D\xeda:"," "),l.a.createElement("p",null,l.a.createElement("i",{class:"far fa-clock"})," Hora:"," "),l.a.createElement("p",null,l.a.createElement("i",{class:"fas fa-users"})," N\xfamero de personas: ",r.guests),l.a.createElement("p",null,l.a.createElement("i",{class:"fas fa-users"})," A nombre de:"," "),l.a.createElement("a",{href:"whatsapp://send?text=\xa1Te espera una reserva de Kokomo! \ud83d\ude0e Aqu\xed tienes los detalles: http://kokomo-app.herokuapp.com/booking/details/{{booking._id}}",class:"btn-kokomo btn-kokomo-grey mt-4 mr-2 p-3"},"Compartir reserva por WhatsApp"),l.a.createElement("a",{href:"/",class:"btn-kokomo btn-kokomo-grey mt-4 ml-2 p-3"},"Volver a inicio"))),b=l.a.createElement("div",{className:"row"},l.a.createElement("h3",{className:"mt-4 mb-4 section-title"},"Resultados de tu b\xfasqueda"),l.a.createElement("div",{className:"row"},u));return r.bookingFinished&&(b=d),l.a.createElement(l.a.Fragment,null,b)},se=function(e){new D,JSON.parse(localStorage.saveData||null);var a=Object(n.useState)({property:{name:"",location:{name:"",lat:41.393542,lng:2.203153},openingHours:[{openingDays:{openingDay:"",closingDay:""},openingTimes:[{openingTime:0,closingTime:0}],weekDays:[]}],bookings:[],comments:[{username:"",comment:""}]},availableResults:[],comment:"",favourites:[]}),t=Object(c.a)(a,2),o=t[0],r=t[1],s=function(e){r(Object(m.a)(Object(m.a)({},o),{},Object(f.a)({},e.target.name,e.target.value)))};Object(n.useEffect)((function(){console.log(e),p.a.get("https://kokomo-react.herokuapp.com/api/property/"+e.match.params.propertyId,{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e),r(Object(m.a)(Object(m.a)({},o),{},{property:e.data}))}))}),[]);var u="far fa-heart fa-stack-1x fa-inverse";o.favourites&&o.favourites.includes(o.property._id)&&(console.log("yes?"),u="fas fa-heart fa-stack-1x fa-inverse");o.property;console.log(o.availableResults);var g=l.a.createElement(l.a.Fragment,null);o.availableResults.length&&(g=l.a.createElement(ce,{guests:o.numberGuests,results:o.availableResults}));var d=o.property.comments.map((function(e,a){return l.a.createElement("div",{className:"border-bottom pb-4 pt-4",key:a},l.a.createElement("h5",null,l.a.createElement("i",{className:"fas fa-user-circle"}),e.username),l.a.createElement("p",null,l.a.createElement("i",{className:"far fa-comment-dots"}),e.comment))})),b=l.a.createElement("div",{className:"mt-4 border-top"},l.a.createElement("p",null,"Necesitas una cuenta para poder hacer reservas."),l.a.createElement("a",{href:"/signup",className:"btn btn-success mt-3"},"Reg\xedstrate ahora")),E=l.a.createElement(l.a.Fragment,null);return e.getTheUser&&(E=l.a.createElement("form",{onSubmit:function(a){a.preventDefault();var t={username:e.getTheUser.username,comment:o.comment};p.a.post("https://kokomo-react.herokuapp.com/api/property/add-comment/"+e.match.params.propertyId,t,{withCredentials:!0}).then((function(e){console.log("Comentario a\xf1adido",e.data),r(Object(m.a)(Object(m.a)({},o),{},{property:e.data,comment:""}))}))}},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"comment",className:"label active"},"Deja tu comentario"),l.a.createElement("textarea",{name:"comment",cols:"30",rows:"3",value:o.comment,onChange:s})),l.a.createElement("input",{type:"submit",value:"Enviar",className:"btn-kokomo btn-kokomo-grey btn-block"})),b=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row d-flex align-items-center justify-content-center"},l.a.createElement("form",{className:"form-row mb-5",onSubmit:function(a){a.preventDefault();var t={bookingDate:o.bookingDate,numberGuests:o.numberGuests};p.a.post("https://kokomo-react.herokuapp.com/api/search/property/"+e.match.params.propertyId,t,{withCredentials:!0}).then((function(e){console.log(e.data),r(Object(m.a)(Object(m.a)({},o),{},{availableResults:e.data}))}))}},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"bookingDate",className:"label active"},"\xbfQu\xe9 d\xeda quieres venir?"),l.a.createElement("input",{type:"date",name:"bookingDate",onChange:s,value:o.bookingDate,"data-date-format":"DD MMMM YYYY"}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"numberGuests",className:"label active"},"\xbfCu\xe1ntos ser\xe9is?"),l.a.createElement("input",{type:"number",name:"numberGuests",min:"1",onChange:s,value:o.numberGuests,className:"kokomo-input"})))),l.a.createElement("input",{type:"submit",value:"Ver disponibildad",className:"kokomo-btn-form p-3"}))),g)),l.a.createElement("div",{className:"home-bg image-background",style:{backgroundImage:"url(".concat(o.property.mainImage,")")}},l.a.createElement("div",{className:"container-left"}),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"title-heart"},l.a.createElement("a",{onClick:function(){p.a.get("https://kokomo-react.herokuapp.com/api/property/love/"+o.property._id,{withCredentials:!0}).then((function(e){console.log("Favorito a\xf1adido",e.data);var a=Object(i.a)(o.favourites);a.push(o.property._id),r(Object(m.a)(Object(m.a)({},o),{},{favourites:a}))}))}},l.a.createElement("div",null,l.a.createElement("span",{className:"fa-stack fa-2x mr-4"},l.a.createElement("i",{className:"fas fa-circle fa-stack-2x orange"}),l.a.createElement("i",{className:u})))),l.a.createElement("div",null,l.a.createElement("h2",{className:"title-search"},o.property.name))),l.a.createElement(oe.a,{defaultActiveKey:"nav-description",id:"nav-tab",className:"nav nav-tabs nav-fill"},l.a.createElement(re.a,{eventKey:"nav-description",title:"Descripci\xf3n",className:"nav-item nav-link"},l.a.createElement("h3",{className:"subtitle-search mb-4"},o.property.description),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-map-marker-alt"}),o.property.location.name),l.a.createElement("p",null,"Duraci\xf3n de la reserva: ",o.property.bookingDuration),l.a.createElement("p",null,"Plazas disponibles: ",o.property.availablePlaces)),l.a.createElement(re.a,{eventKey:"nav-comments",title:"Comentarios",className:"nav-item nav-link"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},E),l.a.createElement("div",{className:"col-md-6"},d))),l.a.createElement(re.a,{eventKey:"nav-openings",title:"Horarios",className:"nav-item nav-link"},l.a.createElement("h3",{className:"subtitle-search mb-4"},"D\xedas de apertura"),l.a.createElement("p",null,"D\xeda de apertura:",l.a.createElement("span",{id:"openingDay1"},o.property.openingHours[0].openingDays.openingDay)),l.a.createElement("p",null,"D\xeda de cierre:",l.a.createElement("span",{id:"closingDay1"},o.property.openingHours[0].openingDays.closingDay)),l.a.createElement("p",null,"D\xedas de la semana: ",o.property.openingHours[0].weekDays),l.a.createElement("p",null,"Hora de apertura:"," ",o.property.openingHours[0].openingTimes[0].openingTime),l.a.createElement("p",null,"Hora de cierre:"," ",o.property.openingHours[0].openingTimes[0].closingTime),l.a.createElement(I,{lat:o.property.location.lat,lng:o.property.location.long,property:o.property}))),b))},ie=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"home-container",style:{paddingBottom:"80px"}},l.a.createElement("div",{className:"hero"},l.a.createElement("h2",{className:"hero-title"},"Inicio"),l.a.createElement("br",null)),l.a.createElement("div",{className:"category-group"},l.a.createElement("div",{className:"one-category"},l.a.createElement("a",{href:"/category/Surfer"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/surf.png",alt:"Surfer"})),l.a.createElement("p",null,"Surfer"))),l.a.createElement("div",{className:"one-category"},l.a.createElement("a",{href:"/category/Chillout"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/chillout.png",alt:"Chillout"})),l.a.createElement("p",null,"Chillout"))),l.a.createElement("div",{className:"one-category"},l.a.createElement("a",{href:"/category/Discoteca"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/disco.png",alt:"Disco"})),l.a.createElement("p",null,"Disco"))),l.a.createElement("div",{className:"one-category"},l.a.createElement("a",{href:"/category/Bar"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/bar.png",alt:"Bar"})),l.a.createElement("p",null,"Bar"))),l.a.createElement("div",{className:"one-category"},l.a.createElement("a",{href:"/category/Restaurante"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/restaurant.png",alt:"Bar"})),l.a.createElement("p",null,"Restaurant")))),l.a.createElement("div",{className:""},l.a.createElement("h2",{className:"title-search-home"},"Nuestros chiringuitos"),l.a.createElement(g,{filter:"All"}),l.a.createElement("h2",{className:"title-search-home mt-4"},"Estilo chillout"),l.a.createElement(g,{filter:"Chillout"}),l.a.createElement("h2",{className:"title-search-home mt-4"},"Los mejores restaurantes"),l.a.createElement(g,{filter:"Restaurante"}))))},me=function(){return l.a.createElement("div",null,l.a.createElement("div",{class:"body-container"},l.a.createElement("h3",{class:"section-title mt-4"},l.a.createElement("i",{class:"fas fa-heart fa-sm"}),"Tus favoritos"),l.a.createElement(g,{filter:"Favourites"}),l.a.createElement("p",null,"Todav\xeda no tienes favoritos")))},ue={bookings:[]},pe=l.a.createElement("p",null,"Todav\xeda no tienes reservas"),ge=function(e){var a=Object(n.useState)(ue),t=Object(c.a)(a,2),o=t[0],r=t[1];return Object(n.useEffect)((function(){p.a.get("https://kokomo-react.herokuapp.com/api/booking/my-bookings",{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e.data.bookings),r(Object(m.a)(Object(m.a)({},o),{},{bookings:e.data.bookings}))}))}),[]),o.bookings.length&&(console.log(o.bookings),pe=o.bookings.map((function(e){return l.a.createElement(T,{booking:e})}))),l.a.createElement("div",null,l.a.createElement("div",{className:"body-container"},l.a.createElement("h3",{className:"section-title mt-4 mdi mdi-calendar"}," Tus reservas"),l.a.createElement("div",{className:"row mb-5"},l.a.createElement("div",{className:"col-md-6"})),l.a.createElement("div",null,l.a.createElement("nav",null,l.a.createElement("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist"},l.a.createElement("a",{className:"nav-item nav-link active",id:"nav-next-bookings-tab","data-toggle":"tab",href:"#nav-next-bookings",role:"tab","aria-controls":"nav-next-bookings","aria-selected":"true"},"Pr\xf3ximas reservas"))),l.a.createElement("div",{className:"tab-content",id:"nav-tabContent"},l.a.createElement("div",{div:!0,className:"tab-pane fade show active",id:"nav-next-bookings",role:"tabpanel","aria-labelledby":"nav-next-bookings-tab"},l.a.createElement("div",{className:"group-booking"},pe))))))},de=function(e){var a={title:e.match.params.name,properties:[]},t=Object(n.useState)(a),o=Object(c.a)(t,2),r=o[0],s=o[1];return Object(n.useEffect)((function(){console.log(e),p.a.get("https://kokomo-react.herokuapp.com/api/search/category/"+r.title).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e.data[0]),s(Object(m.a)(Object(m.a)({},r),{},{properties:e.data[0]}))}))}),[1]),l.a.createElement("div",null,l.a.createElement("div",{class:"body-container"},l.a.createElement("h3",{class:"section-title mt-4"},l.a.createElement("i",{class:"fas fa-heart fa-sm"}),r.title),l.a.createElement(g,{filter:r.title}),l.a.createElement("p",null,"Todav\xeda no hay ning\xfan local en esta categor\xeda")))};var be=function(){var e={loggedInUser:null},a=Object(n.useState)(e),t=Object(c.a)(a,2),o=t[0],r=t[1],i=function(e){r({loggedInUser:e})},m=function(){r(e)},u=JSON.parse(localStorage.saveData||null)||{},p=new D;function d(){return u.obj}return Object(n.useEffect)((function(){null===o.loggedInUser&&(void 0!==d()?i(d()):p.loggedin().then((function(e){var a;a=e,u.obj=a,localStorage.saveData=JSON.stringify(u),i(d())})))}),[1]),l.a.createElement("div",null,l.a.createElement(h,{getTheUser:o.loggedInUser,key:o.loggedInUser}),l.a.createElement(s.d,null,l.a.createElement(s.b,{exact:!0,path:"/"},null===o.loggedInUser?l.a.createElement(E,null):l.a.createElement(ie,null)),l.a.createElement(s.b,{exact:!0,path:"/create-property"},l.a.createElement("div",{className:"mt-5"},l.a.createElement(ee,null))),l.a.createElement(s.b,{path:"/category/:name",render:function(e){return l.a.createElement(de,Object.assign({},e,{getTheUser:o.loggedInUser}))}}),l.a.createElement(s.b,{exact:!0,path:"/carousel-properties"},l.a.createElement(g,{getTheUser:o.loggedInUser,filter:"all"})),l.a.createElement(s.b,{path:"/login",render:function(e){return l.a.createElement(j,Object.assign({},e,{callback:i}))}}),l.a.createElement(s.b,{path:"/signup",render:function(e){return l.a.createElement(w,Object.assign({},e,{callback:i}))}}),l.a.createElement(s.b,{path:"/signup-local",render:function(e){return l.a.createElement(S,Object.assign({},e,{callback:i}))}}),l.a.createElement(U,{key:o.loggedInUser,user:o.loggedInUser,callback:i,path:"/profile",component:_}),l.a.createElement(U,{key:o.loggedInUser,user:o.loggedInUser,callback:i,path:"/my-favourites",component:me}),l.a.createElement(U,{key:o.loggedInUser,user:o.loggedInUser,callback:i,path:"/my-bookings",component:ge}),l.a.createElement(U,{user:o.loggedInUser,exact:!0,callback:i,path:"/property/create-property",component:ee}),l.a.createElement(U,{user:o.loggedInUser,path:"/search",component:le}),l.a.createElement(s.b,{path:"/property/:propertyId",render:function(e){return l.a.createElement(se,Object.assign({},e,{getTheUser:o.loggedInUser}))}}),l.a.createElement(s.b,{exact:!0,path:"/logout",render:function(e){return l.a.createElement(C,Object.assign({},e,{reset:m,callback:i}))}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(v.a,null,l.a.createElement(be,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},78:function(e,a,t){e.exports=t(114)},83:function(e,a,t){},85:function(e,a,t){}},[[78,1,2]]]);
//# sourceMappingURL=main.661a8c78.chunk.js.map