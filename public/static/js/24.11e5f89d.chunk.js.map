{"version":3,"sources":["components/styled-components/titles.js","services/booking/booking-service.js","services/profile/profile-service.js","components/profile/Booking.js","components/profile/SendMessages.js","components/profile/OwnerLocal.js","components/profile/MyBookings.js"],"names":["SectionTitleStyle","styled","h1","props","theme","colors","text","fonts","center","SectionSubtitleStyle","h2","darkText","BookingService","createBooking","scheduleId","body","service","post","then","response","data","myBookings","get","propertiesBookings","bookingDetails","bookingId","deleteBooking","axios","create","baseURL","process","withCredentials","this","ProfileService","sendMessage","customerId","deleteMessage","messageId","editPhone","addOwner","Booking","className","booking","bookingRef","day","time","to","property","_id","name","guests","DropdownButton","id","title","Dropdown","Item","variant","href","Divider","onSubmit","e","delete","SendMessages","initialState","topic","message","hideForm","useState","state","setState","handleChange","event","target","value","src","alt","onClick","preventDefault","fromUser","user","avatar","customer","htmlFor","type","onChange","style","padding","messages","alert","writeMessage","OwnerLocal","handleSubmit","console","log","client","location","bookings","map","index","key","username","email","telNumber","AuthService","bookingService","reservas","reservasProperties","active","ownerTab","properties","MyBookings","useEffect","source","CancelToken","loggedin","owner","error","isCancel","loadData","cancel","ownProperties","window","reload","length","loggedInUser","Tab","eventKey","role","aria-labelledby","Tabs","defaultActiveKey"],"mappings":"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","file":"static/js/24.11e5f89d.chunk.js","sourcesContent":["import styled from \"styled-components\";\n\nexport const SectionTitleStyle = styled.h1`\n  color: ${(props) => props.theme.colors.text};\n  font-family: ${(props) => props.theme.fonts.text};\n  padding: 10px 0;\n  border-bottom: 1px solid rgba(50, 148, 187, 0.1);\n  margin-bottom: 20px !important;\n  text-align: ${(props) => (props.center ? \"center\" : \"left\")};\n  font-size: 26px;\n\n  i {\n    font-size: 26px;\n  }\n`;\n\nexport const SectionSubtitleStyle = styled.h2`\n  font-size: 24px;\n  font-family: ${(props) => props.theme.fonts.text};\n  color: ${(props) => props.theme.colors.darkText};\n  font-weight: 700;\n  text-align: ${(props) => (props.center ? \"center\" : \"left\")};\n  padding-left: 20px;\n`;\n","import axios from \"axios\";\n\nclass BookingService {\n  constructor() {\n    let service = axios.create({\n      baseURL: process.env.REACT_APP_API_URL + \"/booking\",\n      withCredentials: true,\n    });\n    this.service = service;\n  }\n\n  createBooking = (scheduleId, body) => {\n    return this.service\n      .post(\"/create-booking/\" + scheduleId, body)\n      .then((response) => response.data);\n  };\n\n  myBookings = () => {\n    return this.service.get(\"/my-bookings\").then((response) => response.data);\n  };\n\n  propertiesBookings = () => {\n    return this.service\n      .get(\"/my-properties-bookings\")\n      .then((response) => response.data);\n  };\n\n  bookingDetails = (bookingId) => {\n    return this.service\n      .get(\"/details/\" + bookingId)\n      .then((response) => response.data);\n  };\n\n  deleteBooking = (bookingId) => {\n    return this.service\n      .post(\"/delete/\" + bookingId)\n      .then((response) => response.data);\n  };\n}\nexport default BookingService;\n","import axios from \"axios\";\n\nclass ProfileService {\n    constructor() {\n        let service = axios.create({\n          baseURL: process.env.REACT_APP_API_URL + \"/profile\",\n          withCredentials: true,\n        });\n        this.service = service;\n      }\n    \n    sendMessage = (customerId,body) => {\n        return this.service\n        .post(\"/send-message/\" + customerId, body)\n    }\n\n    deleteMessage = (messageId) => {\n      return this.service\n        .post(\"/delete/\" + messageId)\n        .then((response) => response.data);\n    };\n\n    editPhone = (body) => {\n      return this.service\n        .post(\"/editTelephone\", body)\n        .then((response) => response.data);\n    }\n\n    addOwner = (body) => {\n      return this.service\n        .post(\"/add-owner\")\n        .then((response) => response.data);\n    }\n\n}\nexport default ProfileService","import React from \"react\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport { Link } from \"react-router-dom\";\n\n\nconst Booking = (props) => {\n  const handleSubmit = (e) =>{\n    props.delete(props.booking._id)\n  }\n\n\n  return (\n    <>\n      <div className=\"div-booking\">\n        <div className=\"column-xs\">\n          <p className=\"mb-4\">\n            <span className=\"booking-ref\">{props.booking.bookingRef}</span>\n          </p>\n        </div>\n        <div className=\"column-xl\">\n          <p>\n            <span className=\"fa-stack fa-lg\">\n              <i className=\"fas fa-square fa-stack-2x orange-20\"></i>\n              <i className=\"far fa-calendar-check fa-stack-1x orange\"></i>\n            </span>\n            {props.booking.day}\n          </p>\n          <p>\n            <span className=\"fa-stack fa-lg\">\n              <i className=\"fas fa-square fa-stack-2x orange-20\"></i>\n              <i className=\"far fa-clock fa-stack-1x orange\"></i>\n            </span>\n            {props.booking.time}\n          </p>\n        </div>\n        <div className=\"column-xl\">\n          <p>\n            <Link to={\"/property/\" + props.booking.property._id}>\n              <span className=\"fa-stack fa-lg\">\n                <i className=\"fas fa-square fa-stack-2x orange-20\"></i>\n                <i className=\"fas fa-map-marker-alt fa-stack-1x orange\"></i>\n              </span>\n              {props.booking.property.name}\n            </Link>\n          </p>\n          <p>\n            <span className=\"fa-stack fa-lg\">\n              <i className=\"fas fa-square fa-stack-2x orange-20\"></i>\n              <i className=\"fas fa-users fa-stack-1x orange\"></i>\n            </span>\n            {props.booking.guests}\n            persona(s)\n          </p>\n        </div>\n        <div className=\"column-xs\">\n          <DropdownButton\n            id=\"dropdown-kokomo-button\"\n            title={<i className=\"fas fa-ellipsis-v\"></i>}\n            className=\"float-right\"\n          >\n            <Dropdown.Item variant=\"success\" className=\"dropdown-item\">\n              <Link to={\"/booking/details/\" + props.booking._id}>\n                <i className=\"mdi mdi-eye\"></i> Ver detalles\n              </Link>\n            </Dropdown.Item>\n\n            <Dropdown.Item\n              variant=\"success\"\n              className=\"dropdown-item\"\n              href={\n                \"whatsapp://send?text=¡Te espera una reserva de Kokomo! 😎 Aquí tienes los detalles: http://kokomo-react.herokuapp.com/booking/details/\" +\n                props.booking._id\n              }\n            >\n              <i className=\"mdi mdi-share-variant\"></i> Compartir reserva\n            </Dropdown.Item>\n            <Dropdown.Divider />\n            <form onSubmit={handleSubmit} className=\"dropdown-item danger\">      \n              <button className=\"link-danger\">\n                <i className=\"far fa-trash-alt\"></i> Cancelar reserva\n              </button>\n            </form>\n          </DropdownButton>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Booking;\n","import React, { useState } from \"react\";\nimport ProfileService from \"../../services/profile/profile-service\";\n\nconst service = new ProfileService();\n\nconst SendMessages = (props) => {\n\n  let initialState = {\n    topic: \"Cancelación reserva \" + props.booking.bookingRef,\n    message: \"\",\n    hideForm: false,\n  };\n  const [state, setState] = useState(initialState);\n\n  let message = <></>;\n\n  const handleChange = (event) => {\n    setState({\n      ...state,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleMessage = (e) => {\n    e.preventDefault();\n    let body = {\n      fromUser: props.user,\n      topic: state.topic,\n      message: state.message,\n      avatar: props.user.avatar,\n    };\n    service.sendMessage(props.customer, body).then((response) => {\n      setState({\n        ...state,\n        topic: \"\",\n        message: \"\",\n      });\n      if (props.delete) {\n        props.delete(props.booking.bookingId);\n      }\n    });\n  };\n\n  const hideForm = () => {\n    setState({ ...state, hideForm: true });\n  };\n\n  if (!state.hideForm) {\n    message = (\n      <div className=\"text-center d-flex align-items-center justify-content-center kokomo-popup\">\n        <div className=\"row align-middle justify-content-center w-100\">\n          <div className=\"col-md-4 align-self-center fondo-kokomo\">\n            <img\n              src=\"/images/warn.png\"\n              className=\"emoji-img\"\n              alt=\"Horas disponibles\"\n            />\n            <button onClick={hideForm} className=\"close-btn\">\n              <i className=\"fas fa-times\"></i>\n            </button>\n            <p className=\"mb-4\">\n              Avisa a tu cliente de que tienes que cancelar su reserva.\n            </p>\n            <form onSubmit={handleMessage}>\n              <div className=\"form-group\">\n                <label htmlFor=\"topic\" className=\"label active\">\n                  Tema\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"topic\"\n                  value={state.topic}\n                  onChange={handleChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label htmlFor=\"message\" className=\"label active\">\n                  Tu mensaje\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"message\"\n                  value={state.message}\n                  onChange={handleChange}\n                />\n              </div>\n              <div>\n                {\" \"}\n                <input\n                  type=\"submit\"\n                  value=\"Enviar\"\n                  className=\"btn-kokomo btn-kokomo-success w-100\"\n                  style={{\n                    padding: \"19px\",\n                  }}\n                />{\" \"}\n              </div>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return <>{message}</>;\n};\n\nexport default SendMessages;\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport DropdownButton from \"react-bootstrap/DropdownButton\";\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport SendMessages from \"./SendMessages\";\n\nlet initialState = {\n  messages: [],\n  alert: false,\n  message: false\n};\n\nlet writeMessage = <></>;\n\nconst OwnerLocal = (props) => {\n  const [state, setState] = useState(initialState);\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    console.log(\"enviar mensaje\");\n    const client = event.target.customer.value;\n    const booking = {\n      bookingId: event.target.bookingId.value,\n      bookingRef: event.target.bookingRef.value,\n    };\n\n    writeMessage = (\n      <SendMessages\n        booking={booking}\n        customer={client}\n        user={props.user}\n        delete={props.delete}\n      />\n    );\n    setState({\n      ...state,\n      message: true,\n    });\n  };\n\n  return (\n    <>\n      <Link to={\"/property/\" + props.property._id}>\n        <h2 className=\"title-search\">{props.property.name}</h2>\n        <p className=\"mdi mdi-map-marker-radius mb-4\">\n          {\" \"}\n          {props.property.location.name}\n        </p>\n      </Link>\n      \n      {props.property.bookings.map((booking, index) => (\n\n          <div key={index}>\n            <div className=\"div-booking\">\n              <div className=\"column-xs\">\n                <p className=\"mb-4\">\n                  <span className=\"booking-ref\">{booking.bookingRef}</span>\n                </p>\n              </div>\n              <div className=\"column-xl\">\n                <p>\n                  <span className=\"fa-stack fa-lg\">\n                    <i className=\"fas fa-square fa-stack-2x orange-20\"></i>\n                    <i className=\"far fa-calendar-check fa-stack-1x orange\"></i>\n                  </span>\n                  {booking.day}\n                </p>\n                <p>\n                  <span className=\"fa-stack fa-lg\">\n                    <i className=\"fas fa-square fa-stack-2x orange-20\"></i>\n                    <i className=\"far fa-clock fa-stack-1x orange\"></i>\n                  </span>\n                  {booking.time}\n                </p>\n                <p>\n                  <span className=\"fa-stack fa-lg\">\n                    <i className=\"fas fa-square fa-stack-2x orange-20\"></i>\n                    <i className=\"fas fa-users fa-stack-1x orange\"></i>\n                  </span>\n                  {booking.guests}\n                  persona(s)\n                </p>\n              </div>\n              <div className=\"column-xl\">\n                <p>\n                  <span className=\"fa-stack fa-lg\">\n                    <i className=\"fas fa-square fa-stack-2x orange-20\"></i>\n                    <i className=\"fas fa-map-marker-alt fa-stack-1x orange\"></i>\n                  </span>\n                  {booking.customer.username}\n                </p>\n\n                <p>\n                  <span className=\"fa-stack fa-lg\">\n                    <i className=\"fas fa-square fa-stack-2x orange-20\"></i>\n                    <i className=\"fas fa-at fa-stack-1x orange\"></i>\n                  </span>\n                  {booking.customer.email}\n                </p>\n                <p>\n                  <span className=\"fa-stack fa-lg\">\n                    <i className=\"fas fa-square fa-stack-2x orange-20\"></i>\n                    <i className=\"fas fa-phone fa-stack-1x orange\"></i>\n                  </span>\n                  {booking.customer.telNumber}\n                </p>\n              </div>\n              <div className=\"column-xs\">\n                <DropdownButton\n                  id=\"dropdown-kokomo-button\"\n                  title={<i className=\"fas fa-ellipsis-v\"></i>}\n                  className=\"float-right\"\n                >\n                  <Dropdown.Item\n                    variant=\"success\"\n                    className=\"dropdown-item\"\n                    href={\n                      \"whatsapp://send?text=¡Te espera una reserva de Kokomo! 😎 Aquí tienes los detalles: http://kokomo-react.herokuapp.com/booking/details/\" +\n                      booking._id\n                    }\n                  >\n                    <i className=\"mdi mdi-share-variant\"></i> Compartir reserva\n                  </Dropdown.Item>\n                  <Dropdown.Divider />\n                  <form onSubmit={handleSubmit}>\n                    <input type=\"hidden\" name=\"booking\" value={booking} />\n                    <input type=\"hidden\" name=\"bookingId\" value={booking._id} />\n                    <input\n                      type=\"hidden\"\n                      name=\"bookingRef\"\n                      value={booking.bookingRef}\n                    />\n                    <input\n                      type=\"hidden\"\n                      name=\"customer\"\n                      value={booking.customer._id}\n                    />\n                    <button className=\"link-danger\">\n                      <i className=\"far fa-trash-alt\"></i> Cancelar reserva\n                    </button>\n                  </form>\n                </DropdownButton>\n              </div>\n            </div>\n            \n          </div>\n\n      ))}\n      <div>{writeMessage}</div>\n    </>\n  );\n};\n\nexport default OwnerLocal;\n","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport Booking from \"./Booking\";\nimport OwnerLocal from \"./OwnerLocal\";\nimport Tabs from \"react-bootstrap/Tabs\";\nimport Tab from \"react-bootstrap/Tab\";\nimport BookingService from \"../../services/booking/booking-service\";\nimport AuthService from \"../../services/auth/auth-service\";\nimport { SectionTitleStyle } from \"../styled-components/titles\";\n\nconst service = new AuthService();\nconst bookingService = new BookingService();\nlet reservas = <p>Todavía no tienes reservas</p>;\nlet reservasProperties = <p>Todavía no tienes reservas</p>;\nlet active = \"client\";\nlet ownerTab = <></>;\n\nconst initialState = {\n  bookings: [],\n  properties: [],\n  user: {},\n};\n\nconst MyBookings = (props) => {\n  const [state, setState] = useState(initialState);\n\n  useEffect(() => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    service.loggedin().then((response) => {\n      if (response.owner) {\n        active = \"owner\";\n      }\n      setState((state) => ({ ...state, user: response }));\n    });\n    const loadData = () => {\n      try {\n        bookingService.myBookings().then((response) => {\n          setState((state) => ({\n            ...state,\n            bookings: response.bookings,\n          }));\n        });\n      } catch (error) {\n        if (axios.isCancel(error)) {\n          console.log(\"cancelled\");\n        } else {\n          throw error;\n        }\n      }\n    };\n    loadData();\n    return () => {\n      source.cancel();\n    };\n  }, []);\n\n  useEffect(() => {\n    bookingService.propertiesBookings().then((response) => {\n      setState((state) => ({\n        ...state,\n        properties: response.ownProperties,\n      }));\n    });\n  }, []);\n\n  const refreshPage = () => {\n    window.location.reload(false);\n  };\n\n  const deleteBooking = (bookingId) => {\n    bookingService.deleteBooking(bookingId).then((response) => {\n      refreshPage();\n    });\n  };\n\n  if (state.bookings.length) {\n    reservas = state.bookings.map((booking, index) => (\n      <Booking key={index} booking={booking} delete={deleteBooking} />\n    ));\n  }\n\n  if (props.loggedInUser.owner) {\n    if (state.properties.length) {\n      reservasProperties = state.properties.map((property, index) => (\n        <OwnerLocal\n          key={index}\n          property={property}\n          user={props.loggedInUser}\n          delete={deleteBooking}\n        />\n      ));\n      ownerTab = (\n        <Tab\n          eventKey=\"owner\"\n          title=\"Reservas en tus Locales\"\n          className=\"nav-item nav-link\"\n        >\n          <div>\n            <div\n              className=\"tab-pane fade show active\"\n              id=\"nav-next-bookings\"\n              role=\"tabpanel\"\n              aria-labelledby=\"nav-next-bookings-tab\"\n            >\n              <div className=\"group-booking\">{reservasProperties}</div>\n            </div>\n          </div>\n        </Tab>\n      );\n    }\n  }\n\n  return (\n    <div className=\"body-container\">\n      <SectionTitleStyle>\n        <i className=\"mdi mdi-calendar\"></i> Gestión de reservas\n      </SectionTitleStyle>\n\n      <Tabs defaultActiveKey={active} id=\"nav-tab\" className=\"nav nav-tabs\">\n        {ownerTab}\n        <Tab\n          eventKey=\"client\"\n          title=\"Tus reservas\"\n          className=\"nav-item nav-link\"\n        >\n          <div>\n            <div\n              className=\"tab-pane fade show active\"\n              id=\"nav-next-bookings\"\n              role=\"tabpanel\"\n              aria-labelledby=\"nav-next-bookings-tab\"\n            >\n              <div className=\"group-booking\">{reservas}</div>\n            </div>\n          </div>\n        </Tab>\n      </Tabs>\n    </div>\n  );\n};\n\nexport default MyBookings;\n"],"sourceRoot":""}