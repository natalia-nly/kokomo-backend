(this.webpackJsonpkokomo=this.webpackJsonpkokomo||[]).push([[0],{119:function(e,a,t){e.exports=t(155)},124:function(e,a,t){},126:function(e,a,t){},155:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(17),o=t.n(r),c=(t(124),t(8)),s=(t(125),t(126),t(16)),m=t(28),i=t(3),u=t(5),p=t(6),g=t.n(p),d=t(44),b=t.n(d),E={properties:[],favourites:[]},v=function(e){var a=Object(n.useState)(E),t=Object(c.a)(a,2),r=t[0],o=t[1];Object(n.useEffect)((function(){"All"===e.filter?g.a.get("https://kokomo-react.herokuapp.com/api/",{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e),o(Object(i.a)(Object(i.a)({},r),{},{favourites:e.data[1],properties:e.data[0]}))})):"Favourites"===e.filter?g.a.get("https://kokomo-react.herokuapp.com/api/",{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e);var a=e.data[1],t=e.data[0],n=[];t.map((function(e){a.includes(e._id)&&n.push(e)})),o(Object(i.a)(Object(i.a)({},r),{},{favourites:a,properties:n}))})):"Categories"===e.filter?g.a.get("https://kokomo-react.herokuapp.com/api/search/category/"+e.match.params.name,{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e),o(Object(i.a)(Object(i.a)({},r),{},{favourites:e.data[1],properties:e.data[0]}))})):g.a.get("https://kokomo-react.herokuapp.com/api/search/category/"+e.filter,{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e),o(Object(i.a)(Object(i.a)({},r),{},{favourites:e.data[1],properties:e.data[0]}))}))}),[]);var s=l.a.createElement("p",null,"\xa1Todav\xeda no hay nada!");if(r.properties.length){var p=r.properties.map((function(e,a){var t="far fa-heart fa-stack-1x fa-inverse";r.favourites.length&&r.favourites.includes(e._id)&&(t="fas fa-heart fa-stack-1x fa-inverse");var n=l.a.createElement(l.a.Fragment,null);if(e.rating){var c=e.rating.counter,s=parseFloat((c.reduce((function(e,a){return e+a}),0)/c.length).toFixed(2)),p={size:12,count:5,color:"#ffba69",activeColor:"#ffba69",a11y:!0,isHalf:!0,emptyIcon:l.a.createElement("i",{className:"far fa-star"}),halfIcon:l.a.createElement("i",{className:"fa fa-star-half-alt",style:{color:"#ffba69"}}),filledIcon:l.a.createElement("i",{className:"fa fa-star"}),edit:!1,value:s};n=l.a.createElement("div",null,l.a.createElement(b.a,p))}return l.a.createElement("div",{className:"property-card",key:a},l.a.createElement("a",{onClick:function(){return a=e._id,console.log("ID desde favs: ",a),void g.a.get("https://kokomo-react.herokuapp.com/api/property/love/"+a,{withCredentials:!0}).then((function(e){console.log("Favorito a\xf1adido",e);var t=Object(m.a)(r.favourites);t.push(a),o(Object(i.a)(Object(i.a)({},r),{},{favourites:t}))}));var a}},l.a.createElement("span",{className:"fa-stack fa-2x float-right heart-home"},l.a.createElement("i",{className:"fas fa-circle fa-stack-2x orange-80"}),l.a.createElement("i",{className:t}))),l.a.createElement(u.b,{to:"/property/"+e._id},l.a.createElement("img",{src:e.mainImage,style:{zIndex:1}}),l.a.createElement("img",{src:e.mainImage,className:"blur-image"})),l.a.createElement(u.b,{to:"/property/"+e._id},l.a.createElement("div",{className:"flex-md-row justify-content-between align-items-baseline"},l.a.createElement("h3",null,e.name),n),l.a.createElement("p",{className:"mdi mdi-map-marker-radius"}," ",e.location.name)))}));s=l.a.createElement("div",{className:"properties-group"},p)}return l.a.createElement(l.a.Fragment,null,s)},f=t(62),h=function(){var e=new Date;e.setDate(e.getDate());var a={allResults:[],bookingDate:e.toISOString().substr(0,10),numberGuests:0},t=Object(n.useState)(a),r=Object(c.a)(t,2),o=r[0],s=r[1];Object(n.useEffect)((function(){g.a.get("https://kokomo-react.herokuapp.com/api/").then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e),s(Object(i.a)(Object(i.a)({},o),{},{allResults:e.data[0]}))}))}),[]);var m=function(e){var a=new Date,t=new Date(e.openingHours[0].openingDays.openingDay),n=new Date(e.openingHours[0].openingDays.closingDay);return'\n    <div>\n    <a href="/property/'.concat(e._id,'" class="btn-kokomo btn-kokomo-danger" style="font-size: 16px;">\n    ').concat(e.name,'\n    </a>\n\n    <div style="font-size: 14px;">\n        <span style="color: grey;">Rating:\n        ').concat(e.rating,'\n        </span>\n        <span style="color: orange;">').concat(String.fromCharCode(9733).repeat(Math.floor(e.rating)),'</span><span style="color: lightgrey;">').concat(String.fromCharCode(9733).repeat(5-Math.floor(e.rating)),'</span>\n      </div>\n      <div style="font-size: 14px; color: grey;">Category:\n        ').concat(e.categories[0],'\n      </div>\n      <div style="font-size: 14px; color: grey;">\n        ').concat("$".repeat(e.price_level),'\n      </div>\n      <div style="font-size: 14px; color: green;">\n        ').concat(t.getTime()<=a.getTime()&&a.getTime()<=n.getTime()?"Open":"Closed","\n      </div>\n    </div>")},u=l.a.createElement(l.a.Fragment,null);return o.allResults.length&&(u=l.a.createElement("div",{className:"container mt-4 mapa"},l.a.createElement(f.a,{bootstrapURLKeys:{key:"AIzaSyC2gU3A4p3BVUlocsx-HJtJ8Wjar2aof9Y",language:"sp"},center:{lat:41.35,lng:2.1},defaultZoom:11,options:function(e){return{disableDefaultUI:!1,mapTypeControl:!0,streetViewControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){return function(e,a,t){var n=[],l=[];console.log(t.length),console.log(t),t.forEach((function(t){console.log(t.location),n.push(new a.Marker({position:{lat:t.location.lat,lng:t.location.long},map:e})),l.push(new a.InfoWindow({content:m(t)}))})),n.forEach((function(a,t){a.addListener("click",(function(){l[t].open(e,a)}))}))}(e.map,e.maps,o.allResults)}}))),console.log(o.allResults),l.a.createElement("div",null,u)},k=function(){return l.a.createElement("div",{className:"category-group"},l.a.createElement("div",{className:"one-category"},l.a.createElement(u.b,{to:"/category/Surfer"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/surf.png",alt:"Surfer"})),l.a.createElement("p",null,"Surfer"))),l.a.createElement("div",{className:"one-category"},l.a.createElement(u.b,{to:"/category/Chillout"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/chillout.png",alt:"Chillout"})),l.a.createElement("p",null,"Chillout"))),l.a.createElement("div",{className:"one-category"},l.a.createElement(u.b,{to:"/category/Discoteca"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/disco.png",alt:"Disco"})),l.a.createElement("p",null,"Disco"))),l.a.createElement("div",{className:"one-category"},l.a.createElement(u.b,{to:"/category/Bar"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/bar.png",alt:"Bar"})),l.a.createElement("p",null,"Bar"))),l.a.createElement("div",{className:"one-category"},l.a.createElement(u.b,{to:"/category/Restaurante"},l.a.createElement("div",{className:"img-container"},l.a.createElement("img",{src:"/images/restaurant.png",alt:"Bar"})),l.a.createElement("p",null,"Restaurant"))))},N=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"hero-landing",style:{padding:"50px 10px"}},l.a.createElement("div",{className:"home-container"},l.a.createElement("h2",{className:"hero-title",style:{color:"white"}},"Este verano",l.a.createElement("br",null),"no te quedes sin planes"),l.a.createElement("h2",{className:"hero-subtitle",style:{color:"#d0dde2"}},"Reserva en los mejores",l.a.createElement("br",null),"locales de tu zona"),l.a.createElement("h2",{className:"hero-arrow-phone mdi mdi-arrow-down"}),l.a.createElement("h2",{className:"hero-arrow-desktop mdi mdi-arrow-down"}))),l.a.createElement("div",{className:"mapa"},l.a.createElement(h,null)),l.a.createElement("div",{className:"bg-landing"},l.a.createElement("div",{className:"container"},l.a.createElement("h2",{className:"title-landing text-center"},"Reserva en un segundo"),l.a.createElement("div",{className:"row text-center"},l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"shadow-blue"},l.a.createElement("img",{src:"/images/1.png",className:"emoji-img"}),l.a.createElement("h2",{className:"subtitle-landing"},"Encuentra los mejores locales"),l.a.createElement("p",null,"Filtra los locales por d\xeda o por categor\xeda para encontrar el ideal"))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"shadow-blue"},l.a.createElement("img",{src:"/images/2.png",className:"emoji-img"}),l.a.createElement("h2",{className:"subtitle-landing"},"Crea tu reserva"),l.a.createElement("p",null,"Reserva r\xe1pidamente desde Kokomo en tus locales favoritos"))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement("div",{className:"shadow-blue"},l.a.createElement("img",{src:"/images/3.png",className:"emoji-img"}),l.a.createElement("h2",{className:"subtitle-landing"},"Comp\xe1rtela con tus amigos"),l.a.createElement("p",null,"Comparte los detalles de la reserva con quien quieras")))))),l.a.createElement(k,null),l.a.createElement("div",{className:"landing-container",style:{paddingBottom:"80px"}},l.a.createElement(v,{filter:"All"})),l.a.createElement("div",{className:"banner-orange"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h2",null,"\xbfTienes un local?"),l.a.createElement("h3",null,"Registra tus locales y consigue reservas de tus clientes")),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("a",{href:"/signup-local",className:"btn-kokomo btn-kokomo-banner float-right p-2 mt-4"},"Crea tu cuenta")))),l.a.createElement("div",{className:"footer"},l.a.createElement("p",null,"Made in Barcelona |"," ",l.a.createElement("a",{href:"https://github.com/natalia-nly",target:"_blank"},"Natalia")," ","&"," ",l.a.createElement("a",{href:"https://github.com/CSS1982",target:"_blank"},"Claudi"))))},y=t(84),O=t(78),j=function(e){var a=l.a.createElement(y.a,{bg:"light",expand:"lg",className:"navbar navbar-expand-sm navbar-light fixed-top",style:{backgroundColor:"rgb(255, 255, 255)",paddingBottom:0}},l.a.createElement(u.c,{className:"navbar-brand",to:"/"},"KOKOMO"),l.a.createElement(y.a.Toggle,{"aria-controls":"basic-navbar-nav"}),l.a.createElement(y.a.Collapse,{id:"basic-navbar-nav"},l.a.createElement(O.a,{className:"ml-auto"},l.a.createElement(u.c,{className:"nav-link",to:"/",exact:!0,activeClassName:"navbar-active-logout"},"Inicio"),l.a.createElement(u.c,{className:"nav-link",to:"/signup-local",activeClassName:"navbar-active-logout"},"Tengo un local"),l.a.createElement(u.c,{className:"nav-link",to:"/signup",activeClassName:"navbar-active-logout"},"Registrarme ahora"),l.a.createElement(u.c,{className:"nav-link",to:"/login",activeClassName:"navbar-active-logout"},"Iniciar sesi\xf3n")))),t=l.a.createElement("nav",{className:"navbar-kokomo"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(u.c,{to:"/",className:"mdi mdi-home",exact:!0,activeClassName:"navbar-active-login"},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-circle dot-kokomo"})))),l.a.createElement("li",null,l.a.createElement(u.c,{to:"/my-favourites",className:"mdi mdi-heart-outline",activeClassName:"navbar-active-login"},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-circle dot-kokomo"})))),l.a.createElement("li",{className:"search-icon-menu"},l.a.createElement(u.c,{to:"/search",className:"mdi mdi-magnify",activeClassName:"navbar-active-login"},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-circle dot-kokomo"})))),l.a.createElement("li",null,l.a.createElement(u.c,{to:"/my-bookings",className:"mdi mdi-calendar",activeClassName:"navbar-active-login"},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-circle dot-kokomo"})))),l.a.createElement("li",null,l.a.createElement(u.c,{to:"/profile",className:"mdi mdi-account-circle",activeClassName:"navbar-active-login"},l.a.createElement("span",null,l.a.createElement("i",{className:"fas fa-circle dot-kokomo"}))))));return null!==e.getTheUser&&(a=t),l.a.createElement(l.a.Fragment,null," ",a," ")},w=t(13),C=t(24),x=t(35),D=t(37),I=t(36),S=function e(){var a=this;Object(C.a)(this,e),this.signup=function(e,t,n,l){return a.service.post("/signup",{username:e,password:t,telNumber:n,email:l}).then((function(e){return e.data}))},this.signupLocal=function(e,t,n,l){return a.service.post("/signup-local",{username:e,password:t,telNumber:n,email:l}).then((function(e){return e.data}))},this.login=function(e,t){return a.service.post("/login",{username:e,password:t}).then((function(e){return e.data}))},this.upload=function(e){console.log(e);var t=new FormData;return t.append("image",e),a.service.put("/upload",t).then((function(e){return e.data}))},this.edit=function(e,t,n){return a.service.put("/edit",{username:e,campus:t,course:n}).then((function(e){return e.data}))},this.loggedin=function(){return a.service.get("/loggedin").then((function(e){return e.data}))},this.logout=function(){return a.service.post("/logout",{}).then((function(e){return e.data}))};var t=g.a.create({baseURL:"https://kokomo-react.herokuapp.com/api/auth",withCredentials:!0});this.service=t},F=function(e){Object(D.a)(t,e);var a=Object(I.a)(t);function t(e){var n;return Object(C.a)(this,t),(n=a.call(this,e)).handleSubmit=function(e){e.preventDefault();var a={user:n.state.user,password:n.state.password};n.service.login(a.user,a.password).then((function(e){n.setState({user:"",password:""}),n.props.callback(e),n.props.history.push("/")})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){n.setState(Object(w.a)({},e.target.name,e.target.value))},n.state={user:"",password:""},n.service=new S,n}return Object(x.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"row align-middle  justify-content-center p-4",style:{minHeight:"100vh"}},l.a.createElement("div",{className:"col-sm-12 col-md-4 align-self-center"},l.a.createElement("h2",{className:"hero-title text-center mb-4"},"Iniciar sesi\xf3n"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"user",className:"label active"},"Nombre de usuario"),l.a.createElement("input",{type:"text",name:"user",value:this.state.user,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password",className:"label active"},"Contrase\xf1a"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),l.a.createElement("button",{type:"submit",className:"btn-kokomo btn-kokomo-success btn-block p-3"},"Iniciar sesi\xf3n")),l.a.createElement("a",{href:"https://kokomo-react.herokuapp.com/api/auth/google",className:"btn-kokomo btn-kokomo-google btn-block p-3 mt-4"}," ",l.a.createElement("img",{src:"/images/google.svg",alt:"Google logo",style:{width:"20px",marginRight:"8px"}})," ","Iniciar sesi\xf3n con Google"))))}}]),t}(n.Component),T=function(e){Object(D.a)(t,e);var a=Object(I.a)(t);function t(e){var n;return Object(C.a)(this,t),(n=a.call(this,e)).service=new S,n}return Object(x.a)(t,[{key:"eraseLocalStorage",value:function(){localStorage.clear()}},{key:"render",value:function(){var e=this;return this.eraseLocalStorage(),this.service.logout().then((function(a){e.props.callback(null),e.props.reset()})).catch((function(e){return console.log(e)})),l.a.createElement(s.a,{to:"/"})}}]),t}(n.Component),R=function(e){Object(D.a)(t,e);var a=Object(I.a)(t);function t(e){var n;return Object(C.a)(this,t),(n=a.call(this,e)).handleSubmit=function(e){e.preventDefault();var a={user:n.state.user,password:n.state.password,telNumber:n.state.telNumber,email:n.state.email};n.service.signup(a.user,a.password,a.telNumber,a.email).then((function(e){n.setState({user:"",password:"",telNumber:"",email:""}),n.props.callback(e),n.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){n.setState(Object(w.a)({},e.target.name,e.target.value))},n.state={user:"",email:"",telNumber:"",password:""},n.service=new S,n}return Object(x.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"row align-middle  justify-content-center p-4",style:{"min-height":"100vh"}},l.a.createElement("div",{className:"col-sm-12 col-md-4 align-self-center"},l.a.createElement("h2",{className:"hero-title text-center mb-4"},"Crea tu cuenta"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"user",className:"label active"},"Nombre de usuario"),l.a.createElement("input",{type:"text",name:"user",value:this.state.user,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"telNumber",className:"label active"},"N\xfamero de tel\xe9fono"),l.a.createElement("input",{type:"number",name:"telNumber",value:this.state.telNumber,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email",className:"label active"},"Email"),l.a.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password",className:"label active"},"Contrase\xf1a"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),l.a.createElement("button",{type:"submit",class:"btn-kokomo btn-kokomo-success btn-block p-3"},"Registrarme")),l.a.createElement("a",{href:"https://kokomo-react.herokuapp.com/api/auth/google",class:"btn-kokomo btn-kokomo-google btn-block p-3 mt-4"},l.a.createElement("img",{src:"/images/google.svg",alt:"Google logo",style:{width:"20px",marginRight:"8px"}})," ","Registrarme con Google"))))}}]),t}(n.Component),U=function(e){Object(D.a)(t,e);var a=Object(I.a)(t);function t(e){var n;return Object(C.a)(this,t),(n=a.call(this,e)).handleSubmit=function(e){e.preventDefault();var a={user:n.state.user,password:n.state.password,telNumber:n.state.telNumber,email:n.state.email};n.service.signupLocal(a.user,a.password,a.telNumber,a.email).then((function(e){n.setState({user:"",password:"",telNumber:"",email:""}),n.props.callback(e),n.props.history.push("/profile")})).catch((function(e){return console.log(e)}))},n.handleChange=function(e){n.setState(Object(w.a)({},e.target.name,e.target.value))},n.state={user:"",email:"",telNumber:"",password:""},n.service=new S,n}return Object(x.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"row align-middle  justify-content-center p-4",style:{"min-height":"100vh"}},l.a.createElement("div",{className:"col-sm-12 col-md-4 align-self-center"},l.a.createElement("h2",{className:"hero-title text-center mb-4"},"Crea tus locales"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"user",className:"label active"},"Nombre de usuario"),l.a.createElement("input",{type:"text",name:"user",value:this.state.user,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"telNumber",className:"label active"},"N\xfamero de tel\xe9fono"),l.a.createElement("input",{type:"number",name:"telNumber",value:this.state.telNumber,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email",className:"label active"},"Email"),l.a.createElement("input",{type:"email",name:"email",value:this.state.email,onChange:this.handleChange})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password",className:"label active"},"Contrase\xf1a"),l.a.createElement("input",{type:"password",name:"password",value:this.state.password,onChange:this.handleChange})),l.a.createElement("button",{type:"submit",className:"btn-kokomo btn-kokomo-success btn-block p-3"},"Registrarme")),l.a.createElement("a",{href:"/auth/google",className:"btn-kokomo btn-kokomo-google btn-block p-3 mt-4"},l.a.createElement("img",{src:"/images/google.svg",alt:"Google logo",style:{width:"20px",marginRight:"8px"}})," ","Registrarme con Google"))))}}]),t}(n.Component),H=function(e){var a={customer:e.customer,fromUser:e.user,avatar:e.user.avatar,message:""};console.log(e);var t=Object(n.useState)(a),r=Object(c.a)(t,2),o=r[0],s=r[1],m=function(e){console.log(o),s(Object(i.a)(Object(i.a)({},o),{},Object(w.a)({},e.target.name,e.target.value)))},u=l.a.createElement("div",null,l.a.createElement("form",{onSubmit:function(a){a.preventDefault();var t={fromUser:o.fromUser,topic:o.topic,message:o.message,avatar:o.avatar};g.a.post("https://kokomo-react.herokuapp.com/api/profile/send-message/"+o.customer,t,{withCredentials:!0}).then((function(a){console.log("Mensaje enviado",a.data),s(Object(i.a)(Object(i.a)({},o),{},{topic:"",message:""})),e.delete&&e.delete(e.booking.bookingId)}))},className:"d-flex mt-2"},l.a.createElement("div",{className:"form-group",style:{width:"70%"}},l.a.createElement("label",{htmlFor:"topic",className:"label active"},"Tema")," ",l.a.createElement("input",{type:"text",name:"topic",value:o.topic,onChange:m})," "),l.a.createElement("div",{className:"form-group",style:{width:"70%"}},l.a.createElement("label",{htmlFor:"message",className:"label active"}," ","Tu mensaje"," "),l.a.createElement("input",{type:"text",name:"message",value:o.message,onChange:m})," ")," ",l.a.createElement("div",{style:{width:"30%"}}," ",l.a.createElement("input",{type:"submit",value:"Enviar",className:"btn-kokomo-flex",style:{padding:"19px"}})," ")));return l.a.createElement(l.a.Fragment,null," "," "," ",l.a.createElement("div",null," ",l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("i",{className:"fas fa-envelope-open-text"}),u))," ")," ")},G=new S,L={messages:[]},A=function(e){var a=Object(n.useState)(L),t=Object(c.a)(a,2),r=t[0],o=t[1];Object(n.useEffect)((function(){G.loggedin().then((function(e){console.log(e.messages),o(Object(i.a)(Object(i.a)({},r),{},{user:e,messages:e.messages,message:!1}))}))}),[]);var s=l.a.createElement("p",null,"No tienes Notificaciones pendientes");return r.messages.length&&(s=r.messages.map((function(e,a){return l.a.createElement(l.a.Fragment,null," ",l.a.createElement("div",{className:"comment-kokomo pb-4 pt-4",key:a},l.a.createElement("h5",null,l.a.createElement("img",{src:e.avatar,alt:"Avatar",style:{width:"30px",borderRadius:"100px",marginRight:"10px"}})," "," ",e.fromUser),l.a.createElement("h4",null,"Tema: ",e.topic),l.a.createElement("p",null,e.message)," ")," ")}))),l.a.createElement("div",null,s)},M=t(59),_=l.a.createElement(l.a.Fragment,null),P=l.a.createElement(l.a.Fragment,null),q={alert:!1},z=function(e){Object(s.g)();var a=Object(n.useState)(q),t=Object(c.a)(a,2),r=t[0],o=t[1];console.log("https://kokomo-react.herokuapp.com/api/property/"+e.property),Object(n.useEffect)((function(){var a=e.property;g.a.get("https://kokomo-react.herokuapp.com/api/property/"+a,{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET mi local:",e.data),o(Object(i.a)(Object(i.a)({},r),{},{property:e.data}))}))}),[]);var m=function(){r.property.bookings.length?(console.log("Por favor, cancele todos las reservas de este local primero"),o(Object(i.a)(Object(i.a)({},r),{},{alert:!0}))):g.a.get("https://kokomo-react.herokuapp.com/api/property/delete/"+e.property,{withCredentials:!0}).then((function(e){console.log(e),window.location.reload(!1)}))};return r.alert&&(P=l.a.createElement(M.a,{variant:"warning mt-4"},"Por favor, cancele todos las reservas de este local primero."," ",l.a.createElement(u.b,{to:"/my-bookings"},"Ver reservas"))),r.property&&(_=l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(u.b,{to:"/property/"+e.property},l.a.createElement("h2",{className:"title-search-home"},r.property.name),l.a.createElement("p",{className:"mdi mdi-map-marker-radius mb-4"}," ",r.property.location.name))),l.a.createElement("td",null,l.a.createElement(u.b,{type:"submit",className:"btn-kokomo btn-kokomo-grey mr-3 mb-4",to:"/property/edit/"+e.property},l.a.createElement("i",{className:"fas fa-pen"})),l.a.createElement("button",{type:"submit",className:"btn-kokomo btn-kokomo-danger mr-3 mb-4",onClick:function(){return m()}},l.a.createElement("i",{className:"far fa-trash-alt"})))),P)),l.a.createElement("div",null,_)},B=new S,K=l.a.createElement(l.a.Fragment,null),Y={},V=function(e){console.log("estamos en profile"),console.log(e.loggedInUser);var a=Object(n.useState)(Y),t=Object(c.a)(a,2),r=t[0],o=t[1];return Object(n.useEffect)((function(){B.loggedin().then((function(e){console.log(e.messages),o(Object(i.a)(Object(i.a)({},r),{},{user:e}))}))}),[]),r.user&&r.user.owner&&r.user.ownProperties.length&&(K=r.user.ownProperties.map((function(e,a){return l.a.createElement(z,{key:a,property:e})}))),l.a.createElement("div",null,l.a.createElement("div",{className:"beach-background"},l.a.createElement("div",{className:"text-right"},l.a.createElement(u.b,{to:"/profile/edit",className:"btn-kokomo btn-kokomo-grey mr-3"},"Configuraci\xf3n"),l.a.createElement(u.b,{to:"/logout",className:"btn-kokomo btn-kokomo-danger"},"Cerrar sesi\xf3n"))),l.a.createElement("div",{className:"text-center",style:{borderRadius:"30px",marginTop:"-30px",backgroundColor:"white",paddingBottom:"30px"}},l.a.createElement("img",{src:e.loggedInUser.avatar,alt:"Avatar",className:"avatar"}),l.a.createElement("h2",null,"Hola ",e.loggedInUser.username,"!"),l.a.createElement("p",null,"email: ",e.loggedInUser.email),l.a.createElement("p",null,"N\xfamero de tel\xe9fono: ",e.loggedInUser.telNumber)),l.a.createElement("div",{className:"body-container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement(u.b,{to:"/search",className:"btn-kokomo btn-kokomo-success float-right"},"Crear una nueva reserva"),l.a.createElement("div",{className:"col"},e.loggedInUser.owner?l.a.createElement(u.b,{to:"/property/create-property",className:"btn-kokomo btn-kokomo-success float-right mr-4"},"Crear un nuevo local"):""))),l.a.createElement("div",{className:"row mt-4"},l.a.createElement("div",{className:"col-md-8"},l.a.createElement("table",{class:"table"},l.a.createElement("tbody",null,K))),l.a.createElement("div",{className:"col-md-4"},l.a.createElement(A,null)))))},X=t(110),J=JSON.parse(localStorage.saveData||null)||{};new S;function W(){return J.obj}var $=function(e){var a=e.component,t=e.user,n=e.callback,r=Object(X.a)(e,["component","user","callback"]);return l.a.createElement(s.b,Object.assign({},r,{render:function(e){return t?(console.log("user2",t),l.a.createElement(a,Object.assign({},e,{loggedInUser:t,callback:n}))):void 0!==W()?l.a.createElement(a,Object.assign({},e,{loggedInUser:W(),callback:n})):l.a.createElement(s.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},Q=t(174),Z=t(14),ee=t(10),ae=t(181),te=t(177),ne=t(180),le=(t(88),t(90)),re=t.n(le),oe=t(89),ce=t.n(oe),se=t(91),me=t.n(se),ie=t(176),ue=t(179),pe=t(178);Object(Q.a)({root:{color:"#eaeaf0",display:"flex",height:22,alignItems:"center"},active:{color:"#784af4"},circle:{width:8,height:8,borderRadius:"50%",backgroundColor:"currentColor"},completed:{color:"#784af4",zIndex:1,fontSize:18}});var ge=Object(Z.a)({alternativeLabel:{top:22},active:{"& $line":{backgroundImage:"linear-gradient( 95deg,#ffba69 0%,#ffba69 50%,#ffba69 100%)"}},completed:{"& $line":{backgroundImage:"linear-gradient( 95deg,#ffba69 0%,#ffba69 50%,#ffba69 100%)"}},line:{height:3,border:0,backgroundColor:"#eaeaf0",borderRadius:1}})(ie.a),de=Object(Q.a)({root:{backgroundColor:"#ccc",zIndex:1,color:"#fff",width:50,height:50,display:"flex",borderRadius:"50%",justifyContent:"center",alignItems:"center"},active:{backgroundImage:"linear-gradient( 136deg, #ffba69 0%, #ec9834 50%, #cc7309 100%)",boxShadow:"0 4px 10px 0 rgba(0,0,0,.25)"},completed:{backgroundImage:"linear-gradient( 136deg, #ffba69 0%, #ec9834 50%, #cc7309 100%)"}});function be(e){var a,t=de(),n=e.active,r=e.completed,o={1:l.a.createElement(ce.a,null),2:l.a.createElement(re.a,null),3:l.a.createElement(me.a,null)};return l.a.createElement("div",{className:Object(ee.a)(t.root,(a={},Object(w.a)(a,t.active,n),Object(w.a)(a,t.completed,r),a))},o[String(e.icon)])}var Ee=Object(Q.a)((function(e){return{root:{width:"100%"},button:{marginRight:e.spacing(1)},buttonActive:{backgroundColor:"#3294bb",color:"#ffffff"},buttonSuccess:{backgroundColor:"#28a745",color:"#ffffff"},instructions:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}}})),ve=function(e){var a=Ee(),t=l.a.useState(0),n=Object(c.a)(t,2),r=n[0],o=n[1],s=e.stepsTitles;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:a.root},l.a.createElement(ae.a,{alternativeLabel:!0,activeStep:r,connector:l.a.createElement(ge,null)},s.map((function(e,a){return l.a.createElement(te.a,{key:a},l.a.createElement(ne.a,{StepIconComponent:be},e))}))),l.a.createElement("div",null,r===s.length?l.a.createElement("div",null,l.a.createElement(pe.a,{className:a.instructions,component:"div"},"All steps completed - you're finished"),l.a.createElement(ue.a,{onClick:function(){o(0)},className:a.button},"Reset")):l.a.createElement("div",null,l.a.createElement(pe.a,{className:a.instructions,component:"div"},function(a){switch(a){case 0:return e.allSteps[0];case 1:return e.allSteps[1];case 2:return e.allSteps[2];default:return"Unknown step"}}(r)),l.a.createElement("div",{className:"text-center mt-5"},l.a.createElement(ue.a,{disabled:0===r,onClick:function(){o((function(e){return e-1}))},className:a.button},"Anterior"),r===s.length-1?l.a.createElement(ue.a,{variant:"contained",color:"#3294bb",onClick:e.handleSubmit,className:a.buttonSuccess},"Crear propiedad"):l.a.createElement(ue.a,{variant:"contained",onClick:function(){o((function(e){return e+1}))},className:a.buttonActive},"Siguiente"))))))},fe=function e(){var a=this;Object(C.a)(this,e),this.searchLocation=function(e){return a.service.get("/maps?search="+e).then((function(e){return e.data}))},this.getAvailability=function(e){return a.service.post("/getAvailability",e).then((function(e){return e.data}))};var t=g.a.create({baseURL:"https://kokomo-react.herokuapp.com/api/search",withCredentials:!0});this.service=t};var he=function(){var e=Object(s.g)(),a=Object(n.useState)({name:"",description:"",categories:[],mainImage:null,location:{name:"",lat:0,long:0},openingHours:[{openingDays:{openingDay:null,closingDay:null},weekDays:[],openingTimes:[{openingTime:0,closingTime:0}]}],bookingDuration:0,availablePlaces:0}),t=Object(c.a)(a,2),r=t[0],o=t[1],p=new fe,d=function(e){o(Object(i.a)(Object(i.a)({},r),{},Object(w.a)({},e.target.name,e.target.value)))},b=function(e){var a=Object(m.a)(r.openingHours);if(a[0].weekDays.includes(parseInt(e.target.value))){var t=a[0].weekDays.indexOf(parseInt(e.target.value));a[0].weekDays.splice(t,1)}else a[0].weekDays.push(parseInt(e.target.value));o(Object(i.a)(Object(i.a)({},r),{},{openingHours:a}))},E=[l.a.createElement("p",null,"Datos principales"),l.a.createElement("p",null,"Horarios"),l.a.createElement("p",null,"El local")],v=[l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name",className:"label active"},"Nombre"),l.a.createElement("input",{type:"text",name:"name",value:r.name,onChange:d})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"imageUrl",className:"label active"},"Imagen"),l.a.createElement("input",{type:"file",name:"imageUrl",onChange:function(e){e.preventDefault();var a=new FormData;a.append("mainImage",e.target.files[0]),g.a.post("https://kokomo-react.herokuapp.com/api/property/upload",a).then((function(e){console.log("File upload successful:",e.data),o(Object(i.a)(Object(i.a)({},r),{},{mainImage:e.data.path}))}))}}))),l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"description",className:"label active"},"Descripci\xf3n"),l.a.createElement("input",{type:"textarea",name:"description",value:r.description,onChange:d})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"categories",className:"label active"},"Categor\xeda"),l.a.createElement("input",{list:"categories",type:"categories",id:"input-categories",name:"categories",onChange:d}),l.a.createElement("datalist",{id:"categories"},l.a.createElement("option",{value:"Chillout"}),l.a.createElement("option",{value:"Surfer"}),l.a.createElement("option",{value:"Restaurante"}),l.a.createElement("option",{value:"Discoteca"}),l.a.createElement("option",{value:"Bar"})))))),l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"openingDay",className:"label active"},"D\xeda de apertura"),l.a.createElement("input",{type:"date",name:"openingDay",value:r.openingHours[0].openingDays.openingDay,onChange:function(e){var a=Object(m.a)(r.openingHours);a[0].openingDays.openingDay=e.target.value,o(Object(i.a)(Object(i.a)({},r),{},{openingHours:a}))}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"closingDay",className:"label active"},"D\xeda de cierre"),l.a.createElement("input",{type:"date",name:"closingDay",value:r.openingHours[0].openingDays.closingDay,onChange:function(e){var a=Object(m.a)(r.openingHours);a[0].openingDays.closingDay=e.target.value,o(Object(i.a)(Object(i.a)({},r),{},{openingHours:a}))}})),l.a.createElement("h6",null,"D\xedas de la semana"),l.a.createElement("div",{className:"form-group"},l.a.createElement("div",{className:"row mt-3"},l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"monday",value:1,onChange:b}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"monday"},"Lunes")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"tuesday",value:2,onChange:b}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"tuesday"},"Martes")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"wednesday",value:3,onChange:b}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"wednesday"},"Mi\xe9rcoles")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"thursday",value:4,onChange:b}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"thursday"},"Jueves"))),l.a.createElement("div",{className:"col-6"},l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"friday",value:5,onChange:b}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"friday"},"Viernes")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"saturday",value:6,onChange:b}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"saturday"},"S\xe1bado")),l.a.createElement("div",{className:"custom-control custom-checkbox"},l.a.createElement("input",{type:"checkbox",className:"custom-control-input",name:"sunday",value:0,onChange:b}),l.a.createElement("label",{className:"custom-control-label",htmlFor:"sunday"},"Domingo")))))),l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"openingHours",className:"label active"},"Hora de apertura"),l.a.createElement("input",{type:"number",name:"openingHours",value:r.openingHours[0].openingDays.openingTime,onChange:function(e){var a=Object(m.a)(r.openingHours);a[0].openingTimes[0].openingTime=e.target.value,o(Object(i.a)(Object(i.a)({},r),{},{"openingHours.openingTimes":a}))}})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"closingHours",className:"label active"},"Hora de cierre"),l.a.createElement("input",{type:"number",name:"closingHours",value:r.openingHours[0].openingDays.closingTime,onChange:function(e){var a=Object(m.a)(r.openingHours);a[0].openingTimes[0].closingTime=e.target.value,o(Object(i.a)(Object(i.a)({},r),{},{"openingHours.openingTimes":a}))}}))))),l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"bookingDuration",className:"label active"},"Duraci\xf3n de la reserva (en minutos)"),l.a.createElement("input",{type:"number",name:"bookingDuration",value:r.bookingDuration,onChange:d})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"availablePlaces",className:"label active"},"Plazas"),l.a.createElement("input",{type:"number",name:"availablePlaces",value:r.availablePlaces,onChange:d}))),l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),p.searchLocation(r.search).then((function(e){console.log(e),console.log(r),o(Object(i.a)(Object(i.a)({},r),{},{search:e.candidates[0].name,location:{lat:e.candidates[0].geometry.location.lat,long:e.candidates[0].geometry.location.lng,name:e.candidates[0].formatted_address}}))}))},className:"d-flex"},l.a.createElement("div",{className:"form-group",style:{width:"80%"}},l.a.createElement("label",{htmlFor:"search",className:"label active"},"Direcci\xf3n"),l.a.createElement("input",{type:"text",name:"search",value:r.search,onChange:d})),l.a.createElement("div",{style:{width:"20%"}},l.a.createElement("input",{type:"submit",value:"Buscar",className:"btn-kokomo-flex",style:{padding:"19px"}}))),l.a.createElement("p",null,"Candidato: ",r.search),l.a.createElement("p",null,"Direcci\xf3n:",r.location.name),l.a.createElement("p",null,"Latitud:",r.location.lat),l.a.createElement("p",null,"Longitud:",r.location.long))))];return l.a.createElement("div",{className:"container mt-4"},l.a.createElement(u.b,{to:"/"},l.a.createElement("div",null,l.a.createElement("span",{className:"fa-stack fa-2x kokomo-back-button"},l.a.createElement("i",{className:"fas fa-circle fa-stack-2x circle-back"}),l.a.createElement("i",{class:"fas fa-arrow-left fa-stack-1x fa-inverse arrow-back"})))),l.a.createElement("div",{className:"hero"},l.a.createElement("h2",{className:"hero-title text-center"},"Crea tu local")),l.a.createElement(ve,{allSteps:v,stepsTitles:E,handleSubmit:function(a){a.preventDefault(),console.log(r);var t=new FormData;t.append("mainImage",r.file);var n={name:r.name,description:r.description,categories:r.categories,location:{name:r.location.name,lat:r.location.lat,long:r.location.long},openingHours:[{openingDays:{openingDay:r.openingHours[0].openingDays.openingDay,closingDay:r.openingHours[0].openingDays.closingDay},weekDays:r.openingHours[0].weekDays,openingTimes:[{openingTime:r.openingHours[0].openingTimes[0].openingTime,closingTime:r.openingHours[0].openingTimes[0].closingTime}]}],bookingDuration:r.bookingDuration,availablePlaces:r.availablePlaces,mainImage:r.mainImage};g.a.post("https://kokomo-react.herokuapp.com/api/property/create-property",{body:n,uploadData:t},{withCredentials:!0}).then((function(a){console.log("file uploaded",a.data),e.push("/")})).catch((function(e){return console.log(e)}))}}))},ke=function(e){var a={availableResults:e.results},t=Object(n.useState)(a),r=Object(c.a)(t,1)[0],o=Object(s.g)(),m="No results";console.log(r.availableResults);var i=function(e){e.preventDefault(),console.log(e.target);var a={scheduleId:e.target.scheduleId.value};console.log(a.scheduleId);var t={day:e.target.day.value,guests:e.target.guests.value};g.a.post("https://kokomo-react.herokuapp.com/api/booking/create-booking/"+a.scheduleId,t,{withCredentials:!0}).then((function(e){console.log(e.data),o.push("/profile")}))};return r.availableResults[0].property&&(console.log(r.availableResults[0].property.name),console.log(r.availableResults),m=r.availableResults.map((function(e,a){return l.a.createElement("div",{className:"one-property",key:a},l.a.createElement("a",{href:"/property/"+e.property._id},l.a.createElement("div",{className:"property-card"},l.a.createElement("span",{className:"fa-stack fa-2x float-right heart-home"},l.a.createElement("i",{className:"fas fa-circle fa-stack-2x orange-80"}),l.a.createElement("i",{className:"fas fa-heart fa-stack-1x fa-inverse"})),l.a.createElement("div",null,l.a.createElement("img",{src:e.property.mainImage,style:{zIndex:"1"},alt:e.property.name}),l.a.createElement("img",{src:e.property.mainImage,className:"blur-image",alt:e.property.name})))),l.a.createElement("div",{className:"search-pc"},l.a.createElement("h3",null,e.property.name),l.a.createElement("p",{className:"mdi mdi-map-marker-radius"},e.property.location.name),l.a.createElement("div",{className:"row mt-3 ml-2 mb-4"},e.timeboxes.map((function(a,t){return l.a.createElement("form",{onSubmit:i,key:t},l.a.createElement("input",{type:"hidden",name:"scheduleId",value:a._id}),l.a.createElement("input",{type:"hidden",name:"day",value:a.day}),l.a.createElement("input",{type:"hidden",name:"guests",value:e.guests}),l.a.createElement("input",{type:"submit",className:"kokomo-hours",value:a.startTime}))})))))}))),l.a.createElement("div",{className:"container"},l.a.createElement("h3",{className:"mt-4 mb-4 section-title"},"Resultados de tu b\xfasqueda"),l.a.createElement("div",{className:"properties-group-2"},m))},Ne=t(57),ye=t.n(Ne),Oe=new Date;Oe.setDate(Oe.getDate());var je={bookingDate:Oe.toISOString().substr(0,10),numberGuests:0,availableResults:[]},we=function(e){var a=Object(n.useState)(je),t=Object(c.a)(a,2),r=t[0],o=t[1],s=new fe,m=function(e){o(Object(i.a)(Object(i.a)({},r),{},Object(w.a)({},e.target.name,e.target.value)))},u=l.a.createElement(l.a.Fragment,null);return r.availableResults.length&&(u=l.a.createElement(ke,{results:r.availableResults})),l.a.createElement("div",{className:"body-container"},l.a.createElement("div",null,l.a.createElement("h3",{className:"section-title mt-4 mdi mdi-magnify"},"Busca el mejor sitio"),l.a.createElement(h,null)),l.a.createElement("div",null,l.a.createElement("div",{className:"row d-flex align-items-center justify-content-center mt-5"},l.a.createElement("form",{className:"form-row flotante-kokomo-search",onSubmit:function(e){e.preventDefault();var a={bookingDate:r.bookingDate,numberGuests:r.numberGuests};s.getAvailability(a).then((function(e){console.log(e),o(Object(i.a)(Object(i.a)({},r),{},{availableResults:e}))}))}},l.a.createElement("div",{className:"row w-100"},l.a.createElement("div",{className:"col-40"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"bookingDate",className:"label active"},"\xbfQu\xe9 d\xeda quieres venir?"),l.a.createElement("input",{type:"date",name:"bookingDate",onChange:m,value:r.bookingDate,"data-date-format":"DD MMMM YYYY"}))),l.a.createElement("div",{className:"col-40"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"numberGuests",className:"label active"},"\xbfCu\xe1ntos ser\xe9is?"),l.a.createElement("input",{type:"number",name:"numberGuests",min:"1",onChange:m,value:r.numberGuests,className:"kokomo-input"}))),l.a.createElement("div",{className:"col-20"},l.a.createElement("button",{type:"submit",className:"kokomo-btn-form"},l.a.createElement(ye.a,null)))))),l.a.createElement("div",null,u)))},Ce=t(79),xe=t(42),De=function(e){var a={availableResults:e.results,guests:e.guests,bookingFinished:!1,bookingId:0,day:"",hour:""},t=Object(n.useState)(a),r=Object(c.a)(t,2),o=r[0],s=r[1],m="No results";console.log(o.availableResults);var p=function(e){e.preventDefault(),console.log(e.target);var a={scheduleId:e.target.scheduleId.value};console.log(a.scheduleId);var t={day:e.target.day.value,guests:e.target.guests.value};g.a.post("https://kokomo-react.herokuapp.com/api/booking/create-booking/"+a.scheduleId,t,{withCredentials:!0}).then((function(e){console.log(e.data),s(Object(i.a)(Object(i.a)({},o),{},{bookingFinished:!0,bookingId:e.data._id,day:e.data.day,hour:e.data.time}))}))};o.availableResults&&(m=o.availableResults.map((function(e){return l.a.createElement("div",{className:"col-auto mb-3"},l.a.createElement("form",{onSubmit:p},l.a.createElement("input",{type:"hidden",name:"scheduleId",value:e._id}),l.a.createElement("input",{type:"hidden",name:"day",value:e.day}),l.a.createElement("input",{type:"hidden",name:"guests",value:o.guests}),l.a.createElement("input",{type:"submit",className:"kokomo-hours",value:e.startTime})))})));var d="whatsapp://send?text=\xa1Te espera una reserva de Kokomo! \ud83d\ude0e Aqu\xed tienes los detalles: http://kokomo-react.herokuapp.com/booking/details/".concat(o.bookingId),b=l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:"/images/3.png",className:"emoji-img",alt:"Reserva creada con \xe9xito"}),l.a.createElement("h2",{className:"subtitle-landing text-center mb-3"},"\xa1Reserva creada con \xe9xito!"),l.a.createElement("p",null,l.a.createElement("i",{className:"far fa-calendar-alt"})," D\xeda: ",o.day),l.a.createElement("p",null,l.a.createElement("i",{className:"far fa-clock"})," Hora: ",o.hour),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-users"})," N\xfamero de personas: ",o.guests),l.a.createElement("a",{href:d,className:"btn-kokomo btn-kokomo-grey mt-4 mr-2 p-3"},"Compartir reserva por WhatsApp"),l.a.createElement(u.b,{to:"/",className:"btn-kokomo btn-kokomo-grey mt-4 ml-2 p-3"},"Volver a inicio")),E=l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:"/images/calendar.png",className:"emoji-img",alt:"Horas disponibles"}),l.a.createElement("a",{onClick:e.clearAvailableTimes,className:"close-btn"},l.a.createElement("i",{className:"fas fa-times"})),l.a.createElement("h2",{className:"subtitle-landing text-center mb-3"},"Horas disponibles"),l.a.createElement("div",{className:"row justify-content-center"},m));return o.bookingFinished&&(E=b),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center d-flex align-items-center justify-content-center kokomo-popup"},l.a.createElement("div",{className:"row align-middle justify-content-center w-100"},l.a.createElement("div",{className:"col-md-4 align-self-center fondo-kokomo"},E))))},Ie=function(e){var a=new Date;a.setDate(a.getDate());var t;t={lat:e.lat,lng:e.lng};var n=function(e){var a=new Date,t=new Date(e.openingHours[0].openingDays.openingDay),n=new Date(e.openingHours[0].openingDays.closingDay);return'\n    <div>\n    <a href="/property/'.concat(e._id,'" class="btn-kokomo btn-kokomo-danger" style="font-size: 16px;">\n    ').concat(e.name,'\n    </a>\n\n    <div style="font-size: 14px;">\n        <span style="color: grey;">Rating:\n        ').concat(e.rating,'\n        </span>\n        <span style="color: orange;">').concat(String.fromCharCode(9733).repeat(Math.floor(e.rating)),'</span><span style="color: lightgrey;">').concat(String.fromCharCode(9733).repeat(5-Math.floor(e.rating)),'</span>\n      </div>\n      <div style="font-size: 14px; color: grey;">Category:\n        ').concat(e.categories[0],'\n      </div>\n      <div style="font-size: 14px; color: grey;">\n        ').concat("$".repeat(e.price_level),'\n      </div>\n      <div style="font-size: 14px; color: green;">\n        ').concat(t.getTime()<=a.getTime()&&a.getTime()<=n.getTime()?"Open":"Closed","\n      </div>\n    </div>")};return console.log(e.property),l.a.createElement("div",{className:"container mapa"},l.a.createElement(f.a,{bootstrapURLKeys:{key:"AIzaSyC2gU3A4p3BVUlocsx-HJtJ8Wjar2aof9Y",language:"sp"},center:t,defaultZoom:11,options:function(e){return{disableDefaultUI:!1,mapTypeControl:!0,streetViewControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}},yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(a){return function(e,a,t){var l=[],r=[];console.log(t),l.push(new a.Marker({position:{lat:t.location.lat,lng:t.location.long},map:e})),r.push(new a.InfoWindow({content:n(t)})),l.forEach((function(a,t){a.addListener("click",(function(){r[t].open(e,a)}))}))}(a.map,a.maps,e.property)}}))},Se=t(94),Fe=t.n(Se),Te=function(e){var a={size:12,count:5,color:"#174e67",activeColor:"#174e67",a11y:!0,isHalf:!0,emptyIcon:l.a.createElement("i",{className:"far fa-star"}),halfIcon:l.a.createElement("i",{className:"fa fa-star-half-alt",style:{color:"#174e67"}}),filledIcon:l.a.createElement("i",{className:"fa fa-star"}),edit:!1,value:e.rate};return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"d-flex"},l.a.createElement(b.a,a),l.a.createElement("p",{className:"text-review"},e.numberReviews," ",1===e.numberReviews?"rese\xf1a":"rese\xf1as")))},Re=function(e){var a={size:12,count:5,color:"#ffba69",activeColor:"#ffba69",value:e.ratingComment,a11y:!0,isHalf:!0,emptyIcon:l.a.createElement("i",{className:"far fa-star"}),halfIcon:l.a.createElement("i",{className:"fa fa-star-half-alt"}),filledIcon:l.a.createElement("i",{className:"fa fa-star"}),onChange:function(a){e.handleChangeRating(a)}};return l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,a))},Ue=function(e){var a=Object(n.useState)({property:{name:"",location:{name:"",lat:41.393542,lng:2.203153},rating:{counter:[4]},openingHours:[{openingDays:{openingDay:"",closingDay:""},openingTimes:[{openingTime:0,closingTime:0}],weekDays:[]}],bookings:[],comments:[{username:"",comment:""}]},availableResults:[],comment:"",favourites:[],ratingComment:0,showFormMobile:!1}),t=Object(c.a)(a,2),r=t[0],o=t[1],s=function(e){o(Object(i.a)(Object(i.a)({},r),{},Object(w.a)({},e.target.name,e.target.value)))},p=function(a){a.preventDefault();var t={bookingDate:r.bookingDate,numberGuests:r.numberGuests};g.a.post("https://kokomo-react.herokuapp.com/api/search/property/"+e.match.params.propertyId,t,{withCredentials:!0}).then((function(e){console.log(e.data),o(Object(i.a)(Object(i.a)({},r),{},{availableResults:e.data,showFormMobile:!1}))}))};Object(n.useEffect)((function(){console.log(e),g.a.get("https://kokomo-react.herokuapp.com/api/property/"+e.match.params.propertyId,{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e);var a=e.data.rating.counter,t=parseFloat((a.reduce((function(e,a){return e+a}),0)/a.length).toFixed(2));console.log("rate number",t),o(Object(i.a)(Object(i.a)({},r),{},{property:e.data,actualRating:t}))}))}),[]);var d="far fa-heart fa-stack-1x fa-inverse";r.favourites&&r.favourites.includes(r.property._id)&&(d="fas fa-heart fa-stack-1x fa-inverse"),console.log(r.availableResults);var b=l.a.createElement(l.a.Fragment,null);r.availableResults.length&&(b=l.a.createElement(De,{guests:r.numberGuests,results:r.availableResults,clearAvailableTimes:function(){o(Object(i.a)(Object(i.a)({},r),{},{availableResults:[]}))}}));var E=r.property.comments.map((function(e,a){return l.a.createElement("div",{className:"comment-kokomo pb-4 pt-4",key:a},l.a.createElement("h5",null,l.a.createElement("img",{src:e.avatar,alt:"Avatar",style:{width:"30px",borderRadius:"100px",marginRight:"10px"}})," ",e.username),l.a.createElement("p",null,e.comment))})),v=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row d-flex align-items-center justify-content-center"},l.a.createElement("div",{className:" flotante-kokomo"},l.a.createElement("div",{className:"row w-100 align-items-center"},l.a.createElement("p",{className:"text-white"},"Necesitas una cuenta para poder hacer reservas."),l.a.createElement(u.b,{to:"/signup",className:"btn kokomo-btn-form",style:{width:"35%"}},"Reg\xedstrate ahora"))),l.a.createElement(u.b,{to:"/signup",className:"btn btn-floating"},"Reg\xedstrate ahora"))),f=l.a.createElement(l.a.Fragment,null);e.getTheUser&&(f=l.a.createElement(l.a.Fragment,null,l.a.createElement(Re,{handleChangeRating:function(e){o(Object(i.a)(Object(i.a)({},r),{},{ratingComment:e}))},ratingComment:r.ratingComment}),l.a.createElement("form",{onSubmit:function(a){a.preventDefault();var t={username:e.getTheUser.username,comment:r.comment,avatar:e.getTheUser.avatar,rating:r.ratingComment};g.a.post("https://kokomo-react.herokuapp.com/api/property/add-comment/"+e.match.params.propertyId,t,{withCredentials:!0}).then((function(e){console.log("Comentario a\xf1adido",e.data);var a=e.data.rating.counter,t=parseFloat((a.reduce((function(e,a){return e+a}),0)/a.length).toFixed(2));o(Object(i.a)(Object(i.a)({},r),{},{property:e.data,comment:"",actualRating:t}))}))},className:"d-flex mt-2"},l.a.createElement("div",{className:"form-group",style:{width:"70%"}},l.a.createElement("label",{htmlFor:"comment",className:"label active"},"Deja tu comentario"),l.a.createElement("input",{type:"text",name:"comment",value:r.comment,onChange:s})),l.a.createElement("div",{style:{width:"30%"}},l.a.createElement("button",{type:"submit",value:l.a.createElement("i",{className:"fas fa-ellipsis-v"}),className:"btn-kokomo-flex",style:{padding:"19px"}},l.a.createElement("i",{class:"fas fa-paper-plane"}))))," "),v=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"row d-flex align-items-center justify-content-center"},l.a.createElement("form",{className:"form-row flotante-kokomo",onSubmit:p},l.a.createElement("div",{className:"row w-100"},l.a.createElement("div",{className:"col-40"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"bookingDate",className:"label active"},"\xbfQu\xe9 d\xeda quieres venir?"),l.a.createElement("input",{type:"date",name:"bookingDate",onChange:s,value:r.bookingDate,"data-date-format":"DD MMMM YYYY"}))),l.a.createElement("div",{className:"col-40"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"numberGuests",className:"label active"},"\xbfCu\xe1ntos ser\xe9is?"),l.a.createElement("input",{type:"number",name:"numberGuests",min:"1",onChange:s,value:r.numberGuests,className:"kokomo-input"}))),l.a.createElement("div",{className:"col-20"},l.a.createElement("button",{type:"submit",className:"kokomo-btn-form"},l.a.createElement(ye.a,null))))),l.a.createElement("button",{onClick:function(){return C()},className:"btn-floating"},"Hacer una reserva"))));var h=l.a.createElement(l.a.Fragment,null);r.actualRating&&(h=l.a.createElement(Te,{rate:r.actualRating,numberReviews:r.property.rating.counter.length}));var k=Fe()(r.property.openingHours[0].openingDays.openingDay,"dd/mm / yyyy "),N=Fe()(r.property.openingHours[0].openingDays.closingDay,"dd/mm/yyyy"),y=[];r.property.openingHours[0].weekDays.forEach((function(e){switch(e){case 1:y.push("Lunes");break;case 2:y.push("Martes");break;case 3:y.push("Mi\xe9rcoles");break;case 4:y.push("Jueves");break;case 5:y.push("Viernes");break;case 6:y.push("S\xe1bado");break;case 7:y.push("Domingo")}}));var O=y.map((function(e,a){return l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,e)),l.a.createElement("td",null,l.a.createElement("p",null,r.property.openingHours[0].openingTimes[0].openingTime,":00 -"," ",r.property.openingHours[0].openingTimes[0].closingTime,":00")))})),j=l.a.createElement(l.a.Fragment,null),C=function(){o(Object(i.a)(Object(i.a)({},r),{},{showFormMobile:!0}))};return r.showFormMobile&&(j=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"text-center d-flex align-items-center justify-content-center kokomo-popup"},l.a.createElement("div",{className:"row align-middle justify-content-center w-100"},l.a.createElement("div",{className:"col-md-4 align-self-center fondo-kokomo"},l.a.createElement("img",{src:"/images/calendar.png",className:"emoji-img",alt:"Horas disponibles"}),l.a.createElement("a",{onClick:function(){o(Object(i.a)(Object(i.a)({},r),{},{showFormMobile:!1}))},className:"close-btn"},l.a.createElement("i",{className:"fas fa-times"})),l.a.createElement("form",{onSubmit:p},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"bookingDate",className:"label active"},"\xbfQu\xe9 d\xeda quieres venir?"),l.a.createElement("input",{type:"date",name:"bookingDate",onChange:s,value:r.bookingDate,"data-date-format":"DD MMMM YYYY"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"numberGuests",className:"label active"},"\xbfCu\xe1ntos ser\xe9is?"),l.a.createElement("input",{type:"number",name:"numberGuests",min:"1",onChange:s,value:r.numberGuests,className:"kokomo-input"})),l.a.createElement("button",{type:"submit",className:"kokomo-btn-form"},l.a.createElement(ye.a,null)))))))),l.a.createElement(l.a.Fragment,null,j,l.a.createElement("div",{style:{backgroundColor:"#fbf7f3",height:"100vh"}},l.a.createElement(u.b,{to:"/"},l.a.createElement("div",null,l.a.createElement("span",{className:"fa-stack fa-2x kokomo-back-button"},l.a.createElement("i",{className:"fas fa-circle fa-stack-2x circle-back"}),l.a.createElement("i",{class:"fas fa-arrow-left fa-stack-1x fa-inverse arrow-back"})))),l.a.createElement("div",{className:"home-bg image-background",style:{backgroundImage:"url(".concat(r.property.mainImage,")")}},l.a.createElement("div",{className:"container-left"}),l.a.createElement("div",{className:"white-card"},l.a.createElement("div",{className:"title-heart"},l.a.createElement("div",null,l.a.createElement("a",{onClick:function(){g.a.get("https://kokomo-react.herokuapp.com/api/property/love/"+r.property._id,{withCredentials:!0}).then((function(e){console.log("Favorito a\xf1adido",e.data);var a=Object(m.a)(r.favourites);a.push(r.property._id),o(Object(i.a)(Object(i.a)({},r),{},{favourites:a}))}))}},l.a.createElement("span",{className:"fa-stack fa-2x mr-4"},l.a.createElement("i",{className:"fas fa-circle fa-stack-2x orange"}),l.a.createElement("i",{className:d})))),l.a.createElement("div",null,l.a.createElement("h2",{className:"title-search"},r.property.name),h)),l.a.createElement(Ce.a,{defaultActiveKey:"nav-description",id:"nav-tab",className:"nav nav-tabs nav-fill tab-details"},l.a.createElement(xe.a,{eventKey:"nav-description",title:"Info",className:"nav-item nav-link"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},l.a.createElement("h3",{className:"subtitle-search mb-4"},r.property.description),l.a.createElement("p",null,"Duraci\xf3n de la reserva: ",r.property.bookingDuration),l.a.createElement("p",null,"Plazas disponibles: ",r.property.availablePlaces),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-map-marker-alt"})," Direcci\xf3n:"," ",r.property.location.name)),l.a.createElement("div",{className:"col-md-6"},l.a.createElement(Ie,{lat:r.property.location.lat,lng:r.property.location.long,property:r.property})))),l.a.createElement(xe.a,{eventKey:"nav-comments",title:"Rese\xf1as",className:"nav-item nav-link"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"},f),l.a.createElement("div",{className:"col-md-6"},E))),l.a.createElement(xe.a,{eventKey:"nav-openings",title:"Horarios",className:"nav-item nav-link"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6"}),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("p",null,"D\xeda de apertura:",l.a.createElement("span",{id:"openingDay1"}," ",k)),l.a.createElement("p",null,"D\xeda de cierre:",l.a.createElement("span",{id:"closingDay1"}," ",N)),l.a.createElement("table",{class:"table"},l.a.createElement("tbody",null,O)))))),v)),b))},He=function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"home-container",style:{paddingBottom:"80px"}},l.a.createElement("div",{className:"hero"},l.a.createElement("h2",{className:"hero-title"},"Inicio"),l.a.createElement("br",null)),l.a.createElement(k,null),l.a.createElement("div",{className:""},l.a.createElement("h2",{className:"title-search-home"},"Nuestros chiringuitos"),l.a.createElement(v,{filter:"All"}),l.a.createElement("h2",{className:"title-search-home mt-4"},"Estilo chillout"),l.a.createElement(v,{filter:"Chillout"}),l.a.createElement("h2",{className:"title-search-home mt-4"},"Los mejores restaurantes"),l.a.createElement(v,{filter:"Restaurante"}))))},Ge=function(){return l.a.createElement("div",null,l.a.createElement("div",{class:"body-container"},l.a.createElement("h3",{class:"section-title mt-4"},l.a.createElement("i",{class:"fas fa-heart fa-sm"}),"Tus favoritos"),l.a.createElement(v,{filter:"Favourites"})))},Le=t(72),Ae=t(32),Me={bookingId:""},_e=function(e){var a=Object(n.useState)(Me),t=Object(c.a)(a,2),r=t[0],o=t[1];return console.log("estamos en booking"),console.log(e),Object(n.useEffect)((function(){o(Object(i.a)(Object(i.a)({},r),{},{bookingId:e.booking._id,bookingRef:e.booking.bookingRef,day:e.booking.day,time:e.booking.time,guests:e.booking.guests,lat:e.booking.property.location.lat,lng:e.booking.property.location.long,property:e.booking.property,name:e.booking.property.name,propertyId:e.booking.property._id}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"div-booking"},l.a.createElement("div",{className:"column-xs"},l.a.createElement("p",{className:"mb-4"},l.a.createElement("span",{className:"booking-ref"},r.bookingRef))),l.a.createElement("div",{className:"column-xl"},l.a.createElement("p",null,l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"far fa-calendar-check fa-stack-1x orange"})),r.day),l.a.createElement("p",null,l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"far fa-clock fa-stack-1x orange"})),r.time)),l.a.createElement("div",{className:"column-xl"},l.a.createElement("p",null,l.a.createElement(u.b,{to:"/property/"+r.propertyId},l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"fas fa-map-marker-alt fa-stack-1x orange"})),r.name)),l.a.createElement("p",null,l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"fas fa-users fa-stack-1x orange"})),r.guests,"persona(s)")),l.a.createElement("div",{className:"column-xs"},l.a.createElement(Le.a,{id:"dropdown-kokomo-button",title:l.a.createElement("i",{className:"fas fa-ellipsis-v"}),className:"float-right"},l.a.createElement(Ae.a.Item,{variant:"success",className:"dropdown-item",href:"/booking/details/"+r.bookingId},l.a.createElement("i",{class:"mdi mdi-eye"})," Ver detalles"),l.a.createElement(Ae.a.Item,{variant:"success",className:"dropdown-item",href:"whatsapp://send?text=\xa1Te espera una reserva de Kokomo! \ud83d\ude0e Aqu\xed tienes los detalles: http://kokomo-react.herokuapp.com/booking/details/"+r.bookingId},l.a.createElement("i",{className:"mdi mdi-share-variant"})," Compartir reserva"),l.a.createElement(Ae.a.Divider,null),l.a.createElement("form",{onSubmit:e.delete,className:"dropdown-item danger"},l.a.createElement("input",{type:"hidden",name:"bookingId",value:r.bookingId}),l.a.createElement("button",{className:"link-danger"},l.a.createElement("i",{className:"far fa-trash-alt"})," Cancelar reserva"))))))},Pe={messages:[],alert:!1},qe=l.a.createElement(l.a.Fragment,null),ze=function(e){var a=Object(n.useState)(Pe),t=Object(c.a)(a,2),r=t[0],o=t[1];Object(n.useEffect)((function(){o(Object(i.a)(Object(i.a)({},r),{},{message:!1}))}),[]);var s=function(a){a.preventDefault(),console.log("enviar mensaje");var t=a.target.customer.value,n={bookingId:a.target.bookingId.value,bookingRef:a.target.bookingRef.value};qe=l.a.createElement(H,{booking:n,customer:t,user:e.user,delete:e.delete}),o(Object(i.a)(Object(i.a)({},r),{},{message:!0}))};return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.b,{to:"/property/"+e.property._id},l.a.createElement("h2",{className:"title-search"},e.property.name),l.a.createElement("p",{className:"mdi mdi-map-marker-radius mb-4"}," ",e.property.location.name)),e.property.bookings.map((function(e,a){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{key:a},l.a.createElement("div",{className:"div-booking"},l.a.createElement("div",{className:"column-xs"},l.a.createElement("p",{className:"mb-4"},l.a.createElement("span",{className:"booking-ref"},e.bookingRef))),l.a.createElement("div",{className:"column-xl"},l.a.createElement("p",null,l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"far fa-calendar-check fa-stack-1x orange"})),e.day),l.a.createElement("p",null,l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"far fa-clock fa-stack-1x orange"})),e.time),l.a.createElement("p",null,l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"fas fa-users fa-stack-1x orange"})),e.guests,"persona(s)")),l.a.createElement("div",{className:"column-xl"},l.a.createElement("p",null,l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"fas fa-map-marker-alt fa-stack-1x orange"})),e.customer.username),l.a.createElement("p",null,l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"fas fa-at fa-stack-1x orange"})),e.customer.email),l.a.createElement("p",null,l.a.createElement("span",{className:"fa-stack fa-lg"},l.a.createElement("i",{className:"fas fa-square fa-stack-2x orange-20"}),l.a.createElement("i",{className:"fas fa-phone fa-stack-1x orange"})),e.customer.telNumber)),l.a.createElement("div",{className:"column-xs"},l.a.createElement(Le.a,{id:"dropdown-kokomo-button",title:l.a.createElement("i",{className:"fas fa-ellipsis-v"}),className:"float-right"},l.a.createElement(Ae.a.Item,{variant:"success",className:"dropdown-item",href:"whatsapp://send?text=\xa1Te espera una reserva de Kokomo! \ud83d\ude0e Aqu\xed tienes los detalles: http://kokomo-react.herokuapp.com/booking/details/"+e._id},l.a.createElement("i",{className:"mdi mdi-share-variant"})," Compartir reserva"),l.a.createElement(Ae.a.Divider,null),l.a.createElement("form",{onSubmit:s},l.a.createElement("input",{type:"hidden",name:"booking",value:e}),l.a.createElement("input",{type:"hidden",name:"bookingId",value:e._id}),l.a.createElement("input",{type:"hidden",name:"bookingRef",value:e.bookingRef}),l.a.createElement("input",{type:"hidden",name:"customer",value:e.customer._id}),l.a.createElement("button",{className:"link-danger"},l.a.createElement("i",{className:"far fa-trash-alt"})," Cancelar reserva"))))),l.a.createElement("div",null,qe)))})))},Be=l.a.createElement("p",null,"Todav\xeda no tienes reservas"),Ke=l.a.createElement("p",null,"Todav\xeda no tienes reservas"),Ye="client",Ve=l.a.createElement(l.a.Fragment,null),Xe={bookings:[],properties:[]},Je=function(e){var a=Object(n.useState)(Xe),t=Object(c.a)(a,2),r=t[0],o=t[1];Object(n.useEffect)((function(){var a=g.a.CancelToken.source();e.loggedInUser.owner&&(Ye="owner");return function(){try{g.a.get("https://kokomo-react.herokuapp.com/api/booking/my-bookings",{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e.data.bookings),o(Object(i.a)(Object(i.a)({},r),{},{bookings:e.data.bookings}))}))}catch(e){if(!g.a.isCancel(e))throw e;console.log("cancelled")}}(),function(){a.cancel()}}),[]),Object(n.useEffect)((function(){g.a.get("https://kokomo-react.herokuapp.com/api/booking/my-properties-bookings",{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET bookings en mis props:",e.data.ownProperties),o(Object(i.a)(Object(i.a)({},r),{},{properties:e.data.ownProperties}))}))}),[]);var s=function(e){console.log(e),g.a.post("https://kokomo-react.herokuapp.com/api/booking/delete/"+e,{},{withCredentials:!0}).then((function(e){console.log(e.data),window.location.reload(!1)}))};return r.bookings.length&&(console.log(r.bookings),Be=r.bookings.map((function(e,a){return l.a.createElement(_e,{key:a,booking:e,delete:s})}))),console.log(e),e.loggedInUser.owner&&r.properties.length&&(console.log(r.properties),Ke=r.properties.map((function(a,t){return l.a.createElement(ze,{key:t,property:a,user:e.loggedInUser,delete:s})})),Ve=l.a.createElement(xe.a,{eventKey:"owner",title:"Reservas en tus Locales",className:"nav-item nav-link"},l.a.createElement("div",null,l.a.createElement("div",{className:"tab-pane fade show active",id:"nav-next-bookings",role:"tabpanel","aria-labelledby":"nav-next-bookings-tab"},l.a.createElement("div",{className:"group-booking"},Ke))))),l.a.createElement("div",{className:"body-container"},l.a.createElement("h3",{className:"section-title mt-4 mdi mdi-calendar"},"Gesti\xf3n de reservas"),l.a.createElement(Ce.a,{defaultActiveKey:Ye,id:"nav-tab",className:"nav nav-tabs"},Ve,l.a.createElement(xe.a,{eventKey:"client",title:"Tus reservas",className:"nav-item nav-link"},l.a.createElement("div",null,l.a.createElement("div",{className:"tab-pane fade show active",id:"nav-next-bookings",role:"tabpanel","aria-labelledby":"nav-next-bookings-tab"},l.a.createElement("div",{className:"group-booking"},Be))))))},We=function(e){var a={title:e.match.params.name,properties:[]},t=Object(n.useState)(a),r=Object(c.a)(t,2),o=r[0],s=r[1];return Object(n.useEffect)((function(){console.log(e),g.a.get("https://kokomo-react.herokuapp.com/api/search/category/"+o.title).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e.data[0]),s(Object(i.a)(Object(i.a)({},o),{},{properties:e.data[0]}))}))}),[1]),l.a.createElement("div",null,l.a.createElement("div",{class:"body-container"},l.a.createElement("h3",{class:"section-title mt-4"},l.a.createElement("i",{class:"fas fa-heart fa-sm"}),o.title),l.a.createElement(v,{filter:o.title})))},$e=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container text-center d-flex align-items-center justify-content-center",style:{height:"100vh"}},l.a.createElement("div",null,l.a.createElement("img",{src:"/images/warning.png",alt:"Error",style:{"max-width":"200px"}}),l.a.createElement("h1",{className:"heading-font orange mt-4"},"P\xe1gina no encontrada"),l.a.createElement("p",null,"\xa1Lo sentimos! Parece que no encontramos lo que buscas"),l.a.createElement(u.b,{to:"/",className:"btn-kokomo btn-kokomo-grey mt-4"},"Volver a inicio"))))},Qe=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{class:"container text-center d-flex align-items-center justify-content-center",style:{height:"100vh"}},l.a.createElement("div",null,l.a.createElement("img",{src:"/images/warning.png",alt:"Error",style:{"max-width":"200px"}}),l.a.createElement("h1",{class:"heading-font orange mt-4"},"Error del servidor"),l.a.createElement("p",null,"\xa1Lo sentimos! Parece que hay un error interno."),l.a.createElement(u.b,{to:"/",class:"btn-kokomo btn-kokomo-grey mt-4"},"Volver a inicio"))))},Ze=t(109);var ea=function(e){var a=Object(s.g)(),t=Object(n.useState)({property:{name:"",description:"",categories:[],mainImage:null,location:{name:"",lat:0,long:0},bookingDuration:0,availablePlaces:0}}),r=Object(c.a)(t,2),o=r[0],m=r[1];Object(n.useEffect)((function(){console.log(e),g.a.get("https://kokomo-react.herokuapp.com/api/property/"+e.match.params.propertyId,{withCredentials:!0}).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e),m(Object(i.a)(Object(i.a)({},o),{},{property:e.data}))}))}),[]);var p=function(e){m(Object(i.a)(Object(i.a)({},o),{},{property:Object(i.a)(Object(i.a)({},o.property),{},Object(w.a)({},e.target.name,e.target.value))}))},d=[l.a.createElement("p",null,"Datos principales"),l.a.createElement("p",null,"El local")],b=[l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name",className:"label active"},"Nombre"),l.a.createElement("input",{type:"text",name:"name",value:o.property.name,onChange:p})),l.a.createElement("div",{className:"d-flex justify-content-between"},l.a.createElement("div",{style:{width:"20%"}},l.a.createElement(Ze.a,{src:o.property.mainImage,rounded:!0,fluid:!0})),l.a.createElement("div",{className:"form-group",style:{width:"75%"}},l.a.createElement("label",{htmlFor:"imageUrl",className:"label active"},"Imagen"),l.a.createElement("input",{type:"file",name:"imageUrl",onChange:function(e){e.preventDefault();var a=new FormData;a.append("mainImage",e.target.files[0]),g.a.post("https://kokomo-react.herokuapp.com/api/property/upload",a).then((function(e){console.log("File upload successful:",e.data),m(Object(i.a)(Object(i.a)({},o),{},{property:Object(i.a)(Object(i.a)({},o.property),{},{mainImage:e.data.path})}))}))}})))),l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"description",className:"label active"},"Descripci\xf3n"),l.a.createElement("input",{type:"textarea",name:"description",value:o.property.description,onChange:p})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"categories",className:"label active"},"Categor\xeda"),l.a.createElement("input",{list:"categories",name:"categories",onChange:p}),l.a.createElement("datalist",{id:"categories"},l.a.createElement("option",{value:"Chillout"}),l.a.createElement("option",{value:"Surfer"}),l.a.createElement("option",{value:"Restaurante"}),l.a.createElement("option",{value:"Discoteca"}),l.a.createElement("option",{value:"Bar"})))))),l.a.createElement("div",null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"bookingDuration",className:"label active"},"Duraci\xf3n de la reserva (en minutos)"),l.a.createElement("input",{type:"number",name:"bookingDuration",value:o.property.bookingDuration,onChange:p})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"availablePlaces",className:"label active"},"Plazas"),l.a.createElement("input",{type:"number",name:"availablePlaces",value:o.property.availablePlaces,onChange:p}))),l.a.createElement("div",{className:"col-sm-12 col-md-6"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),g.a.get("https://kokomo-react.herokuapp.com/api/search/maps?search="+o.search).then((function(e){console.log(e.data),console.log(o),m(Object(i.a)(Object(i.a)({},o),{},{search:e.data.candidates[0].name,property:Object(i.a)(Object(i.a)({},o.property),{},{location:{lat:e.data.candidates[0].geometry.location.lat,long:e.data.candidates[0].geometry.location.lng,name:e.data.candidates[0].formatted_address}})}))}))},className:"d-flex"},l.a.createElement("div",{className:"form-group",style:{width:"80%"}},l.a.createElement("label",{htmlFor:"search",className:"label active"},"Direcci\xf3n"),l.a.createElement("input",{type:"text",name:"search",value:o.search,onChange:function(e){m(Object(i.a)(Object(i.a)({},o),{},Object(w.a)({},e.target.name,e.target.value)))}})),l.a.createElement("div",{style:{width:"20%"}},l.a.createElement("input",{type:"submit",value:"Buscar",className:"btn-kokomo-flex",style:{padding:"19px"}}))),l.a.createElement("p",null,"Candidato: ",o.search),l.a.createElement("p",null,"Direcci\xf3n:"," "+o.property.location.name),l.a.createElement("p",null,"Latitud:"," "+o.property.location.lat),l.a.createElement("p",null,"Longitud:"," "+o.property.location.long))))];return l.a.createElement("div",{className:"container mt-4"},l.a.createElement(u.b,{to:"/"},l.a.createElement("div",null,l.a.createElement("span",{className:"fa-stack fa-2x kokomo-back-button"},l.a.createElement("i",{className:"fas fa-circle fa-stack-2x circle-back"}),l.a.createElement("i",{class:"fas fa-arrow-left fa-stack-1x fa-inverse arrow-back"})))),l.a.createElement("div",{className:"hero"},l.a.createElement("h2",{className:"hero-title text-center"},o.property.name)),l.a.createElement(ve,{allSteps:b,stepsTitles:d,handleSubmit:function(e){e.preventDefault();var t={_id:o.property._id,name:o.property.name,description:o.property.description,categories:o.property.categories,location:{name:o.property.location.name,lat:o.property.location.lat,long:o.property.location.long},bookingDuration:o.property.bookingDuration,availablePlaces:o.property.availablePlaces,mainImage:o.property.mainImage};g.a.post("https://kokomo-react.herokuapp.com/api/property/edit/"+o.property._id,t,{withCredentials:!0}).then((function(e){console.log("file uploaded",e.data),a.push("/property/".concat(o.property._id))})).catch((function(e){return console.log(e)}))}}))},aa={booking:{bookingRef:"",day:"",time:"",guests:0,customer:{username:""}}},ta=function(e){var a=Object(n.useState)(aa),t=Object(c.a)(a,2),r=t[0],o=t[1];return Object(n.useEffect)((function(){g.a.get("https://kokomo-react.herokuapp.com/api/booking/details/"+e.match.params.bookingId).then((function(e){console.log("CONSOLE LOG DESDE AXIOS GET",e),o(Object(i.a)(Object(i.a)({},r),{},{booking:e.data}))}))}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container text-center d-flex align-items-center justify-content-center",style:{height:"90vh"}},l.a.createElement("div",null,l.a.createElement("img",{src:"/images/3.png",className:"emoji-img"}),l.a.createElement("h2",{className:"subtitle-landing text-center mb-3"},"\xa1Reserva creada con \xe9xito!"),l.a.createElement("p",null,l.a.createElement("i",{className:"far fa-calendar-alt"})," D\xeda: ",r.booking.day),l.a.createElement("p",null,l.a.createElement("i",{className:"far fa-clock"})," Hora: ",r.booking.time),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-users"})," N\xfamero de personas:"," ",r.booking.guests),l.a.createElement("p",null,l.a.createElement("i",{className:"fas fa-users"})," A nombre de:"," ",r.booking.customer.username),l.a.createElement("a",{href:"whatsapp://send?text=\xa1Te espera una reserva de Kokomo! \ud83d\ude0e Aqu\xed tienes los detalles: http://kokomo-react.herokuapp.com/booking/details/"+r.booking._id,className:"btn-kokomo btn-kokomo-grey mt-4 p-3 mr-4"},"Compartir reserva por WhatsApp"),l.a.createElement(u.b,{to:"/",className:"btn-kokomo btn-kokomo-grey mt-4 p-3"},"Volver a inicio"))))};var na=function(){var e={loggedInUser:null},a=Object(n.useState)(e),t=Object(c.a)(a,2),r=t[0],o=t[1],m=function(e){o({loggedInUser:e})},i=function(){o(e)},u=JSON.parse(localStorage.saveData||null)||{},p=new S;function g(){return u.obj}return Object(n.useEffect)((function(){null===r.loggedInUser&&(void 0!==g()?m(g()):p.loggedin().then((function(e){var a;a=e,u.obj=a,localStorage.saveData=JSON.stringify(u),m(g())})))}),[1]),l.a.createElement(s.d,null,l.a.createElement($,{user:r.loggedInUser,exact:!0,callback:m,path:"/property/create-property",component:he}),l.a.createElement($,{user:r.loggedInUser,callback:m,path:"/property/edit/:propertyId",component:ea}),l.a.createElement(s.b,{path:"/property/:propertyId",render:function(e){return l.a.createElement(Ue,Object.assign({},e,{getTheUser:r.loggedInUser}))}}),l.a.createElement(s.b,{path:"/booking/details/:bookingId",render:function(e){return l.a.createElement(ta,e)}}),l.a.createElement(s.b,{component:function(){return l.a.createElement("div",null,l.a.createElement(j,{getTheUser:r.loggedInUser,key:r.loggedInUser}),l.a.createElement(s.d,null,l.a.createElement(s.b,{exact:!0,path:"/"},null===r.loggedInUser?l.a.createElement(N,null):l.a.createElement(He,null)),l.a.createElement(s.b,{path:"/category/:name",render:function(e){return l.a.createElement(We,Object.assign({},e,{getTheUser:r.loggedInUser}))}}),l.a.createElement(s.b,{path:"/login",render:function(e){return l.a.createElement(F,Object.assign({},e,{callback:m}))}}),l.a.createElement(s.b,{path:"/signup",render:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(R,Object.assign({},e,{callback:m})))}}),l.a.createElement(s.b,{path:"/signup-local",render:function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement(U,Object.assign({},e,{callback:m})))}}),l.a.createElement($,{key:r.loggedInUser,user:r.loggedInUser,callback:m,path:"/profile",component:V}),l.a.createElement($,{key:r.loggedInUser,user:r.loggedInUser,callback:m,path:"/my-favourites",component:Ge}),l.a.createElement($,{key:r.loggedInUser,user:r.loggedInUser,callback:m,path:"/my-bookings",component:Je}),l.a.createElement($,{user:r.loggedInUser,exact:!0,callback:m,path:"/property/create-property",component:he}),l.a.createElement($,{user:r.loggedInUser,path:"/search",component:we}),l.a.createElement(s.b,{exact:!0,path:"/logout",render:function(e){return l.a.createElement(T,Object.assign({},e,{reset:i,callback:m}))}})))}}),l.a.createElement(s.b,{path:"*",component:$e,status:404}),l.a.createElement(s.b,{path:"*",component:Qe,status:500}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(u.a,null,l.a.createElement(na,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[119,1,2]]]);
//# sourceMappingURL=main.9766e9a3.chunk.js.map